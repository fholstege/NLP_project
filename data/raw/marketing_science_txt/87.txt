http://pubsonline.informs.org/journal/mksc/

MARKETING SCIENCE
Vol. 38, No. 4, July­August 2019, pp. 584­608 ISSN 0732-2399 (print), ISSN 1526-548X (online)

Learning in Online Advertising

W. Jason Choi,a Amin Sayedib
a Columbia Business School, Columbia University, New York, New York 10027; b Foster School of Business, University of Washington, Seattle, Washington 98195 Contact: wc2452@columbia.edu, http://orcid.org/0000-0003-3975-6908 (WJC); aminsa@uw.edu, http://orcid.org/0000-0003-2409-2387 (AS)

Received: March 15, 2018 Revised: October 17, 2018; January 13, 2019 Accepted: January 17, 2019 Published Online in Articles in Advance: July 8, 2019
https://doi.org/10.1287/mksc.2019.1154
Copyright: © 2019 INFORMS

Abstract. Prior literature on pay-per-click advertising assumes that publishers know advertisers' click-through rates (CTRs). This information, however, is not available when a new advertiser first joins a publisher. The new advertiser's CTR can be learned only if its ad is shown to enough consumers, that is, the advertiser wins enough auctions. Because publishers use CTRs to calculate payments and allocations, the lack of information about a new advertiser can affect the advertisers' bids. Using a game-theory model, we analyze advertisers' strategies, their payoffs, and the publisher's revenue in a learning environment. Our results indicate that a new advertiser always bids higher (sometimes above valuation) in the beginning. The incumbent advertiser's strategy depends on its valuation and CTR. A strong incumbent increases its bid to deter the publisher from learning the new advertiser's CTR, whereas a weak incumbent decreases its bid to facilitate learning. Interestingly, the publisher may benefit from not knowing the new advertiser's CTR because its ignorance could induce advertisers to bid more aggressively. Nonetheless, the publisher's revenue sometimes decreases because of this lack of information. The publisher can mitigate this loss by lowering the reserve price of, offering advertising credit to, or boosting the bids of new advertisers.

History: Ganesh Iyer served as the senior editor and Zsolt Katona served as associate editor for this article.
Supplemental Material: The online appendix is available at https://doi.org/10.1287/mksc.2019.1154.

Keywords: game theory · learning · competitive analysis · bidding strategy · online advertising · mechanism design · exploration-exploitation

1. Introduction
Online advertising, with annual spending of more than $100B, has become the largest category of advertising in the United States.1 Online advertising inventory is sold using two pricing models: performancebased and impression-based. In performance-based (e.g., pay-per-click) pricing, an advertiser pays only if a consumer completes a predefined action (e.g., a click). In impression-based pricing, the advertiser pays for its ad being shown to a consumer regardless of whether the impression leads to an action.
Understanding how an ad performs (e.g., how likely it is that a consumer will take an action after viewing an ad) is crucial for publishers in performancebased pricing and for advertisers in impression-based pricing. For example, in pay-per-click pricing, it is more profitable for a publisher to accept a payment of $1 per click for an ad with a click-through rate (CTR) of 10% for an expected revenue of $0.10 per impression than a payment of $2 per click for an ad with a CTR of 4% for an expected revenue of $0.08 per impression. Similarly, the probability of action affects an advertiser's willingness to pay (WTP) for an impression in impressionbased pricing. The advertiser is willing to pay more per

impression if it knows that the impression leads to a desired outcome with a higher probability.
Previous literature on online advertising primarily assumes that the probability of the predefined action (e.g., CTR) is known to advertisers and publishers (Edelman et al. 2007, Katona and Sarvary 2010, Jerath et al. 2011). In practice, however, advertisers and publishers have to learn this probability. For example, when a new advertiser joins the market or when an existing advertiser revamps its ad campaign, the CTRs of its ads are typically unknown to the publisher, other advertisers, and the advertiser itself. They can, at best, have an expectation of the CTR based on a few observable characteristics of the advertiser.2 The actual CTR becomes known only when the ads are displayed to consumers a high enough number of times such that sufficient impression and click data become available. In other words, learning is asymmetric: participating in advertising auctions is not sufficient for the advertiser's CTR to be learned; the advertiser has to win advertising auctions sufficiently many times before the publisher and the advertisers can learn its CTR.
The learning dynamic can affect advertisers' and publishers' strategies in the market. In particular, winning in an advertising auction has two effects on

584

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

585

an advertiser's payoff. First, the advertiser receives an immediate value from showing its ad to a consumer (the direct effect). Second, winning reveals information about the performance of the ad to both the advertiser and the publisher (the indirect effect); this improves the advertiser's and the publisher's estimate of the true CTR of the ad. In performancebased pricing, this ad-performance information is used by the publisher to determine the pricing and allocation of an ad slot, and in impression-based pricing, it is used by the advertiser to determine the advertiser's WTP. Although the previous literature has primarily studied the direct effect of winning in an advertising auction, our paper focuses on the indirect effect.
These two effects give rise to interesting trade-offs for advertisers when a new advertiser joins the publisher. We illustrate these trade-offs in the following example.
Example. Suppose an advertiser, A, is the only advertiser bidding on an advertising slot of publisher P. Suppose that the slot is sold in a pay-per-click secondprice auction, A's bid is $1 per click, and its CTR is 15%. Assume that B is a new advertiser that wants to advertise on the same slot. B's bid is also $1 per click, but its CTR is not known to anybody at the time of entry. For the initial auctions, P assigns an average CTR estimate (e.g., based on the performance of advertisers with similar characteristics) of, say, 10%.
However, P can eventually learn the new advertiser's CTR after sufficient impression and click data for the new advertiser become available. Furthermore, B can facilitate this learning process by bidding aggressively and thereby winning in the early rounds. Doing so allows P to observe more click data for B's ad, which would, in turn, allow P to more accurately estimate B's true CTR.
Importantly, in pay-per-click pricing, P's estimate of B's CTR directly affects the payment and allocation of the advertisers. This is because publishers use effective bids, computed as advertisers' submitted bids multiplied by their expected CTRs, to calculate payment and allocation.3 Given this, would B prefer to have its CTR learned by P quickly or not?
If B privately knew its true CTR, then the answer would be evident. For example, if it knew that its

true CTR is 20% (i.e., higher than P's estimate), then B
would unambiguously prefer P to quickly update its CTR from the 10% estimate to the true 20%. The reason
is that updating its CTR to a higher value would not only make B's future effective bid more competitive
against the existing advertiser A, but it would also lower B's cost per click when it wins. In particular, with its $1 bid and 20% CTR, B outranks A's effective bid of $1 × 15% and wins the auction for a cost per click of .75; it would have lost the auction to A had its CTR remained at the average of 10% (see Table 1). Conversely, B's incentive to facilitate P's learning its CTR would diminish if B knew its true CTR is lower than P's prior estimate. In this case, B's long-term payoff would decrease if its low CTR is learned quickly. In sum, B prefers P to update B's CTR estimate more quickly (slowly) if it privately knows that its CTR is higher (lower) than P's prior estimate.
In reality, however, when B first enters the market, it does not know whether its true CTR is lower or higher than an average advertiser with similar characteristics. Therefore, it is not clear whether the new advertiser B should increase or decrease its bid to accelerate or slow down P's learning process if B wants to maximize its profit.
Similarly, for the existing advertiser A, P's learning the new advertiser B's CTR can be a double-edged sword. If B's CTR turns out to be higher than the estimated average, then A may lose the ad slot; if it turns out to be lower, A can win the auction at a lower cost per click than when B's CTR is not known to P (from $0.66 to $0.33 in Table 1). Again, given that the existing advertiser A can facilitate (hinder) P's learning process by decreasing (increasing) its bids when B joins, it is not clear which bidding strategy would maximize its profit.
In this paper, we study how the learning incentives affect the advertisers' and the publisher's strategies. We use a game-theoretic model to analyze advertisers' and publisher's strategies in a learning environment. To facilitate exposition, in the main body of the paper, we assume the publisher uses performancebased pricing, which currently accounts for 62% of the online advertising market in the United States,4 and use pay-per-click terminology. In the extensions, we show that our results apply to a pay-per-impression

Table 1. When the Publisher Knows vs. Does Not Know New Advertiser's CTR

Advertiser B's CTR

Not known (CTR = 10%)

Known (CTR = 20%)

Known (CTR = 5%)

B

Has to bid (and pay)

Wins at cost per click

Has to bid (and pay)

$1 × 15%/10% $1.5 to win $1 × 15%/20% $0.75

$1 × 15%/5% $3 to win

A Wins at cost per click

Has to bid (and pay)

Wins at cost-per-click

$1 × 10%/15% $0.66

$1 × 20%/15% $1.33 to win $1 × 5%/15% $0.33

586

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

pricing model as well. We are interested in answering the following research questions.
1. Does a new advertiser (entrant) benefit from its CTR being learned by the publisher? How does this affect the entrant's bidding strategy?
2. Does an existing advertiser (incumbent) benefit from the publisher learning the CTR of the entrant? How does this affect the incumbent's bidding strategy?
3. How does the lack of information about a new advertiser's CTR affect the publisher's revenue? How do learning incentives affect the publisher's optimal strategy?
In answering the first set of questions, we show that a new advertiser's expected payoff when its CTR is learned by the publisher is higher than when it is not. The higher payoff incentivizes the new advertiser to bid aggressively to accelerate the learning process. As a result, the entrant should always bid higher (sometimes even above its valuation) in the beginning when its CTR is unknown to the publisher than in the long run after its CTR becomes known. This finding is in line with what industry experts commonly recommend new advertisers regarding starting bids--namely, bid aggressively "into high positions" and "make adjustments after [accumulating] data." Despite the risk of paying a high initial cost, the experts explain that bidding high and thereby attaining top positions early on could help improve the advertisers' long-run profits.5
Our result indicates that, even for advertisers whose long-run equilibrium cost per click is low, the initial cost per click (at the time of joining the market) may be above their valuation. In other words, advertisers should be prepared to lose money in the beginning when they start advertising with a publisher for the first time. Moreover, they should not be discouraged from using that publisher even if the initial costs per click are higher than their WTP.
In answering the second set of questions, we find that an incumbent's response to an entrant joining the auction depends on the incumbent's CTR. If the incumbent's CTR is high, the incumbent bids aggressively to impede the entrant's CTR from being learned by the publisher. This is because an incumbent with a high CTR does not want to risk earning a low margin (or, worse, losing its ad slot) in the event the entrant's CTR turns out to be high.
This "preemptive" strategy, however, is too expensive for an incumbent with a low CTR. As we show, an incumbent with a low CTR lowers its bid when an entrant joins so that the entrant's CTR is learned more quickly. Intuitively, competing with an advertiser whose CTR is unknown is too costly for the weak incumbent; by accelerating the learning process, the incumbent hopes that the entrant's CTR will turn out to be lower than the expectation.

In answering the third set of questions, interestingly, we find that the publisher may benefit from not knowing the new advertiser's CTR. The intuition is that the entrant, and sometimes the incumbent as well, bids more aggressively when the entrant's CTR is not known, which increases the publisher's revenue. Under certain conditions, however, the publisher's ignorance could also hurt its revenue. For instance, if the entrant's CTR is high, the publisher misses clicks (and, hence, opportunities for earning higher revenue) by not displaying the entrant's ad in the beginning. The negative effect becomes more pronounced when the incumbent's CTR is high because a strong incumbent bids aggressively to mask the entrant's CTR. This deters the publisher from learning the entrant's potentially high CTR.
We find that the publisher can mitigate the loss of not knowing the entrant's CTR by reducing the reserve price of the entrant. By reducing the reserve price, the publisher increases the probability of the entrant winning in the auction, thereby increasing the probability of learning the entrant's CTR. Furthermore, we characterize the optimal mechanism and show that, first, in the presence of learning considerations, a variation of the standard second-price auction with optimal reserve prices is sufficient to achieve the optimal revenue. Second, it is optimal for the publisher to favor the entrant in the beginning before the entrant's CTR is learned. This manifests in a lower optimal reserve price of the entrant when the publisher does not know the entrant's CTR than when it knows.
In addition, we discuss alternative mechanisms that can help the publisher mitigate its loss of not knowing the entrant's CTR. For example, Google provides a $75 ad credit to new advertisers when they spend $25 on AdWords.6 Facebook also offers ad credit to new accounts that have a sufficiently high audience engagement on their pages.7 Although these programs have traditionally been viewed as promotions to attract new advertisers, our research reveals new strategic incentives beyond new customer acquisition that motivate publishers to offer ad credit.
1.1. Theoretical Contribution
Although, from a managerial point of view, our work sheds light on advertisers' and publishers' strategies regarding new entries, we also highlight two unique aspects of our model from a theoretical point of view. First, in the context of online advertising, we study the transition of a game from an incomplete-information game to a full-information one. Although the previous literature on online advertising assumes that the game is either always full information (e.g., Edelman et al. 2007) or always incomplete information (e.g., Edelman and Schwarz 2010), in practice, the level of information is constantly changing. Our

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

587

paper takes a first step toward bridging this gap by analyzing the transition.8 We show that the advertisers' and the publishers' strategies regarding the transition are qualitatively distinct from those in full- and incomplete-information games.
Second, our analysis demonstrates how some of the standard results from learning theory may be reversed when the subjects of learning are not as "passive" as commonly assumed in the literature (e.g., Gittins and Jones 1979 and Katehakis and Veinott 1987). For instance, the exploration­exploitation tradeoff from standard learning theory suggests that knowing less about new advertisers would only hurt the publisher's revenue because the publisher must then learn about new advertisers through costly exploration. In contrast, our model shows that the publisher may be better off knowing less about the new advertiser because of the advertisers' strategic responses during the publisher's learning process. In other words, when the subjects are strategic agents, exploration could be profitable for the learner.
The rest of this paper is structured as follows. First, we discuss related literature. In Section 2, we present the model. We analyze the model and discuss advertisers' strategies in Section 3. The publisher's optimal strategy is discussed in Section 4. We explore extensions of the main model in Section 5 to establish the robustness of our main results, and conclude in Section 6. All proofs are relegated to the appendix. Proofs for lemmas are found in the online appendix.
1.2. Related Literature
Our work contributes to the vast literature on display advertising. Empirical works in this area have assessed the effectiveness of display advertising in various contexts. Lambrecht and Tucker (2013) demonstrate that retargeting may not be effective when consumers have not adequately refined their product preferences. Hoban and Bucklin (2015) find that display advertising increases website visitations for a large segment of consumers along the purchase funnel but not for those who had visited before. Bruce et al. (2017) examine the dynamic effects of display advertising and show that animated (versus static) ads with price information are the most effective in terms of consumer engagement. On the theoretical front, Sayedi et al. (2018) study advertisers' bidding strategies when publishers allow advertisers to bid for exclusive placement on the website. Sayedi (2018) analyzes the interaction between selling ad slots through real-time bidding and selling through reservation contracts. Zhu and Wilbur 2011 and Hu et al. (2016) study the trade-offs involved in choosing between "cost-per-click" and "costper-action" contracts. Berman (2018) explores the effects of advertisers' attribution models on their bidding behavior and their profits. Kuksov et al. (2017)

study firms' incentives in hosting the display ads of their competitors on their websites.
Within online advertising, the increasing prevalence of search advertising has motivated a growing body of empirical (e.g., Rutz and Bucklin 2011, Yao and Mela 2011, and Haruvy and Jap 2018) and theoretical papers. Katona and Sarvary (2010) and Jerath et al. (2011) study advertisers' incentives in obtaining lower versus higher positions in search advertising auctions. Sayedi et al. (2014) investigate advertisers' poaching behavior on trademarked keywords and their budget allocation across traditional media and search advertising. Desai et al. (2014) analyze the competition between brand owners and their competitors on brand keywords. Lu et al. (2015) and Shin (2015) study budget constraints and budget allocation across keywords. Zia and Rao (2017) look at the budgetallocation problem across search engines. Wilbur and Zhu (2009) find the conditions under which it is in a search engine's interest to allow some click fraud. Cao and Ke (2018) model manufacturer and retailers' cooperation in search advertising and show how it affects intrabrand and interbrand competition. Amaldoss et al. (2015a) show how a search engine can increase its profits and also improve advertisers' welfare by providing first-page bid estimates. Berman and Katona (2013) study the impact of search engine optimization, and Amaldoss et al. (2015b) analyze the effect of keyword management costs on advertisers' strategies. Katona and Zhu (2017) show how quality scores can incentivize advertisers to invest in their landing pages and to improve their conversion rates.
Following Edelman et al. (2007), by arguing that players learn each others' types after playing the game repeatedly, the vast majority of this literature uses a full-information setup to model search advertising auctions. There are a few papers (e.g., Amaldoss et al. 2015a, b; and Edelman and Schwarz 2010) that use an incomplete-information setting for modeling search advertising. In these papers, however, the game remains an incomplete information game; that is, players do not learn each others' types. To the best of our knowledge, our paper is the first on online advertising to model the learning process, wherein the game starts as an incomplete-information game and, if a new advertiser's type is learned, transitions to a full-information game.
Parts of our model may resemble the literature on games with asymmetric information. For instance, in Jiang et al. (2011), a seller may want to hide its type from a publisher by pooling with another type. Despite some similarities, our paper differs in that we do not model information asymmetry. Although we allow players take certain actions to facilitate or hinder the revelation of information, those actions do not signal their types. Furthermore, in signaling games,

588

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

players mimic other players' strategies to hide or reveal information; in contrast, advertisers in our model interfere with the publisher's learning process to do so.
There are a few papers in the computer science and operations research literature that address dynamic learning in repeated auctions. Li et al. (2010) solve for an advertiser's optimal bidding strategy when it is uncertain about its CTR and faces an exogenous distribution of competing bids. Hummel and McAfee (2016) characterize the search engine's optimal bid on behalf of advertisers under uncertain CTRs in a repeated game, and Balseiro and Gur (2017) introduce adaptive bidding strategies for budgetconstrained advertisers in repeated auctions of incomplete information.
Closest to our paper within this stream is Iyer et al. (2014), which studies bidding strategies of agents who learn their valuations. Under the assumption that the market size is infinitely large, Iyer et al. (2014) adopt a mean-field approximation to solve for equilibrium strategies. They report a similar finding that, in a learning environment, an advertiser's bid consists of the present expected value of winning the ad slot and the "marginal future gain from one additional observation regarding [the advertiser's] valuation" (p. 2959). The present paper, however, differs along several important dimensions.
First, because we use performance-based pricing, the learning agent in our model is the publisher, not the advertiser. The publisher receives new information about a new advertiser who wins and incorporates the information into the rules of the subsequent auctions. Thus, a new advertiser bids strategically not to learn its own type per se, but to influence the publisher's learning process. Second, our paper sheds light on a novel incentive for existing advertisers to deter the publisher from learning the new advertiser's type. This is distinct from the idea of advertisers adopting (symmetric) bidding strategies to learn their own types. The discrepancies in the incentives across advertisers that are highlighted in our paper do not emerge in a meanfield equilibrium wherein all agents behave in a symmetric manner. Finally, our paper analyzes a small, stylized market with a limited number of participants, which allows us to model the fully rational behavior of all players. Our assumption of a small market is motivated by the fact that, because of the fine-grained targeting available in online advertising, most auctions have a small number of participants; as such, advertisers' oneto-one interactions affect their optimal strategies. Papers that employ mean-field equilibrium (e.g., Iyer et al. 2014 and Balseiro et al. 2015) abstract away from advertisers' one-to-one interactions and characterize an approximate equilibrium wherein agents are assumed to be boundedly rational.

2. Model
Our model consists of a publisher and two advertisers, the incumbent and the entrant, indexed by P, I, and E, respectively. The publisher sells one ad slot in a second-price auction with reserve price R.9 Each advertiser has an advertiser-specific CTR--cI for the incumbent and cE for the entrant--that represents the average CTR of the advertiser if placed in the ad slot. In other words, when an ad is displayed to a consumer, the consumer clicks on the incumbent's (entrant's) ad with probability cI (cE). Parameters cI and cE depend on the advertisers' ad copies, as well as the relevance and strength of their brands with respect to the publisher's web page in display advertising, or consumer's search query in search advertising.
In our main model, we assume performance-based pricing, which currently accounts for 62% of the online advertising market in the United States,10 and use payper-click pricing terminology.11 In Section 5.1, we show that, under some assumptions, our findings apply to impression-based pricing as well. We first assume that both advertisers have the same valuation per click, which we normalize to one. This assumption is not necessary but simplifies the discussion of advertisers' strategies in Section 3. We relax this assumption in Section 4 when analyzing the publisher's strategy. The incumbent (entrant) submits a bid bIt (bEt), where t indexes the game stage. The bids indicate how much the advertisers are willing to pay per click.
In performance-based pricing, publishers take advertisers' expected performance into account when determining payment and allocation. In pay-per-click pricing, publishers compute advertisers' effective bids as the product of their submitted bids and the estimated CTRs of their ads.12 Some publishers may also include other parameters in the effective bids, such as landing page experience; however, to focus on the role of CTRs, we only take the submitted bids and the CTRs into account and assume that the two advertisers are the same along other dimensions that a publisher may consider.13 Therefore, the effective bids of the incumbent and the entrant at stage t are cIbIt and cEbEt, respectively. The advertiser with the higher effective bid wins the auction, provided its effective bid is greater than or equal to the reserve price, R. The winner pays (per click) the minimum bid required to win the auction; that is, if the incumbent wins, it pays max[cEbEt, R]/cI, and if the entrant wins, it pays max[cIbIt, R]/cE.
We assume that cE is drawn from a differentiable cumulative distribution function (c.d.f.) FE. Because the incumbent has been advertising with the publisher for an extended period of time, following Edelman et al. (2007) (and many other papers in the literature), we assume that its CTR, cI, is common knowledge.

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

589

On the other hand, the entrant's CTR is not known at
the time of entry because the entrant has not adver-
tised with the publisher in the past. When the entrant
joins, the publisher, the incumbent, and the entrant only know the distribution of the entrant's CTR.14 We assume that cI and E, the expected value of cE, are greater than the reserve price so that the incumbent and
the entrant can beat the reserve price in expectation.
Before we proceed, we should elaborate on the mean-
ing of the CTR parameters cI and cE. In our model, these parameters represent the advertiser-specific CTRs,
which, as explained above, depend on the advertisers' ad copies and brand strengths among others. Advertiser-specific CTRs are independent of position
effects in which higher ad slot position increases the ad's click propensity. Indeed, publishers only take into account advertiser-specific CTRs, controlling for position effects, when computing advertisers' effective bids.15 Position-specific CTRs are incorporated in
the multislot extension in Section 5.4.
Next, we describe the timing of the game, which is
depicted in Figure 1. Stage 1: The entrant joins the market. The entrant's
CTR is initially unknown and is, therefore, set to its expected value E.16 The incumbent and the entrant simultaneously submit their bids bI1 and bE1 to the publisher. The incumbent's effective bid is cIbI1, whereas the entrant's is EbE1 because the publisher does not know the entrant's CTR yet. If the incumbent wins, it pays (per click) max[EbE1, R]/cI, and if the entrant wins, it pays max[cIbI1, R]/E. If the entrant wins, its CTR becomes known to the publisher
by the next stage; otherwise, it remains unknown.
To simplify the analysis, we assume that, if the en-
trant wins a single auction (i.e., the auction in stage 1),
then the publisher learns its CTR. In practice, the entrant would have to win sufficiently many times for
the publisher to accurately learn its CTR. Stage 1 in our
model corresponds to as many auctions as the en-
trant needs to win for the publisher to learn its CTR.
Furthermore, in practice, learning is continuous and gradual such that the publisher's estimate of the

entrant's CTR improves incrementally every time the
entrant wins. Our model can be viewed as a discrete
approximation of this learning process: the publisher either knows or does not know the entrant's CTR.
Stage 2: The advertisers submit their bids bI2 and bE2. The incumbent's effective bid is cIbI2. The entrant's effective bid depends on the outcome of the stage 1
auction. If the entrant had won in stage 1, then its CTR
becomes known to the publisher by stage 2, and there-
fore, its effective bid is cEbE2. Otherwise, as in stage 1, its CTR is not learned and its effective bid is EbE2.17
We capture the relative weight of stage 2 compared with stage 1 with parameter  > 0. Note that, because the advertisers' decisions in stage 1 affect their payoffs in stage 2,  affects how the advertisers trade off
short-term revenue (in stage 1) for long-term revenue (in stage 2).18
The incumbent's expected profit is the sum of its first- and second-stage payoffs. That is, E[I] I1 + E[I2], where I1 denotes the incumbent's first-stage payoff and I2 its second-stage payoff contingent on the realization of cE, over which expectation is taken. Specifically,

I1

 cI  0

1 - max[EbE1, R] cI

if cIbI1  max[EbE1, R], otherwise,

I2

 cI  0

1 - max[c~EbE2, R] cI

if cIbI2  max[c~EbE2, R], otherwise,

where c~E is cE if cE is learned (i.e., entrant won in stage 1) and E otherwise. Similarly, the entrant's expected profit is E[E] E[E1] + E[E2], where

E1

 cE  0

1

-

max[cI bI1 , E

R]

E2

 cE  0

1

-

max[cI bI2 , c~E

R]

if EbE1  max[cIbI1, R], otherwise, if c~EbE2  max[cIbI2, R], otherwise.

Figure 1. (Color online) Game Timing

590

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Finally, the publisher's expected profit is E[P] E[P1] + E[P2], where

P1

 

max[EbE1, R]

cE

max[cI bI1 , E

R]

if cIbI1  max[EbE1, R], if EbE1 > max[cIbI1, R],

0

otherwise,

P2

 

max[c~EbE2, R]

cE

max[cI bI2 , c~E

R]

0

if cIbI2  max[c~EbE2, R], c~EbE2 > max[cIbI2, R], otherwise.

We use subgame perfect Nash equilibrium as the solu-

tion concept and solve by backward induction. Finally,

to ensure the existence of a weakly dominant strategy

for the incumbent, we assume that cI +  (cI - E)+ -

c0o1n(cdI i-tiomnaixs[cE,R1])/+fEd(FRE))+FRE(,Rf)o.1r9

which a sufficient This assumption is

only needed to facilitate the exposition in Section 3

and is dropped in Section 4.

3. Advertisers' Strategies
In this section, we analyze the advertisers' bidding strategies and assume that the publisher's mechanism is exogenous. As a benchmark, in Section 3.1, we analyze the advertisers' strategies in a full-information game. Then, in Section 3.2, we study how learning incentives in an incomplete-information game affect the advertisers' bidding strategies.

3.1. Full-Information Setting As a benchmark, we first consider the case in which the entrant's CTR is common knowledge. This corresponds to what most of the previous theoretical papers in online advertising literature assume. Even though the auction is not a standard second-price auction because advertisers' bids are multiplied by their CTRs, truthful bidding (i.e., bidding the perclick valuation) is still a weakly dominant strategy for both advertisers. The advertisers' equilibrium strategies and their payoffs under full information are summarized in the following proposition.
Proposition 1 (Bids and Payoffs Under Full Information).
Under full information, truthful bidding is a weakly dominant strategy for both advertisers. The payoffs of the incumbent, the entrant, and the publisher, respectively, are FI (1 + )(cI - max[cE, R])+, FE (1 + )(cE - cI)+, and FP (1 + ) max[min[cI, cE], R], where x+  max[x, 0].
Proposition 1 shows that, when the publisher knows the entrant's CTR, both advertisers always bid truthfully. This finding is not new to the literature and is presented here for the sake of completeness. Interestingly, in the next section, we show that truthful

bidding is no longer an equilibrium strategy when the publisher does not know the entrant's CTR.

3.2. Incomplete-Information Setting
In practice, there is little information regarding the entrant's CTR that is available to the publisher. Therefore, unlike the case for the incumbent's CTR, the advertisers and the publisher have, at best, only partial information about the entrant's CTR.
We begin our analysis under incomplete information with the second-stage bids. We focus on dominant strategy equilibrium in which advertisers play weakly dominant strategies. As we show in Lemma 1, the stage 2 auction is straightforward: advertisers bid truthfully. This is because, in the last stage, there are no strategic considerations of future payoffs; thus, the truthfulness property of standard second-price auctions holds.

Lemma 1 (Bids in Stage 2 Under Incomplete Information). Regardless of the outcome in stage 1, bidding truthfully is a weakly dominant strategy for both advertisers in stage 2.
In contrast, we find that, in stage 1, the advertisers' bidding strategies are not always truthful. Their bids can be either below or above valuation depending on their expectations of stage 2 payoffs. The following lemma characterizes the advertisers' first-stage equilibrium bids.

Lemma 2 (Bids in Stage 1 Under Incomplete Information). In stage 1, it is weakly dominant for the incumbent and the entrant, respectively, to bid

bI1

1+  cI

cI - E + -

cI
cI - max[cE, R] dFE ,

0

(1)

bE1

1

+

 E

1
cE - cI dFE - E - cI + .
cI

(2)

In general, truthful bidding is a weakly dominant
strategy in a second-price auction even under in-
complete information. Expressions (1) and (2), however, show that the advertisers' bids are no longer truthful. What drives the change in advertisers' strategies in our model is the advertisers' incentive (or lack thereof) to help the publisher learn the entrant's CTR. The advertisers' stage 1 bids are shaped by their preference to play a stage 2 game in which the entrant's CTR is E versus cE, where cE is randomly drawn from FE. For example, if the entrant's expected payoff in stage 2 is higher when its CTR is cE (i.e., its CTR is learned) compared with when it is E (i.e., its CTR is not learned), the entrant would raise its stage 1 bid.

But does the entrant prefer its CTR to be learned by the publisher? We find the answer to be affirmative. For the entrant, the benefits of revealing its CTR are twofold. First, it allows the entrant to outrank the incumbent in stage 2 with some probability even when E  cI, a situation in which the entrant would

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

591

have surely lost in stage 2 if its CTR were unknown and set to E by the publisher. Second, it provides an opportunity for the entrant to pay lower cost per click in the event that its CTR turns out to be high compared with the case in which its CTR is assigned the mean estimate E. Evidently, there is also the risk of its CTR turning out to be low, in which case the entrant would have been better off being assigned E. The reward of a high CTR realization, however, is disproportionately larger than the loss the entrant incurs for a low realization. The reason is that, although the gains for the entrant increase proportionally with high realizations of cE, the loss of a low cE is bounded from below by zero. Therefore, in expectation, the entrant prefers its CTR to be learned by the publisher.
Table 2 shows this more formally for the case in which E > cI. The entrant's stage 2 profit when the publisher does not know the entrant's CTR (left-hand side) is integrated over negative values as well (in the range cE  (0, cI)). This integral value is lower than that when the publisher knows cE (right-hand side) and only positive values are integrated. In sum, for any entrant CTR distribution FE, the entrant's stage 2 profit is higher in expectation if the publisher learns its CTR. Therefore, the entrant bids aggressively in stage 1 to facilitate the publisher's learning process.
The incumbent's bidding strategy is slightly more nuanced: the incumbent underbids for low cI and overbids for high cI. Suppose cE is not learned by the publisher in stage 2. If cI is close to E, then the incumbent either loses the stage 2 auction or, even if it wins the auction, receives a low stage 2 payoff because the cost per click E/cI is high. In this case, the incumbent is better off shading its stage 1 bid below valuation, thereby helping the entrant win the firststage auction. The intuition is that, by facilitating the revelation of the entrant's CTR, the incumbent foregoes its first-stage payoff but creates an opportunity to reap a large second-stage payoff in the event cE turns out to be low. Thus, a weak incumbent has a strategic incentive to underbid.
On the other hand, if cI is significantly greater than E, then the incumbent's stage 1 strategy switches from underbidding to overbidding. To illustrate, suppose cI is high and compare the incumbent's stage 2 payoff when cE is concealed versus revealed. Had cE been concealed, the incumbent would win in stage 2

at a low cost per click of E/cI because cI E. Conversely, had cE been revealed, there are two possibilities: if cE turns out to be low, the incumbent pays an even lower cost; if cE turns out to be high, the incumbent pays a high cost (if not loses the ad position). However, the reward of a low cE realization is outweighed by the risk of a high cE realization because the incumbent's potential to reap larger margins for a low cE realization is limited by the reserve price. Therefore, the incumbent has incentive to conceal cE when its CTR is high and, thus, bids above valuation in stage 1. This can also be seen from Table 3, which shows the incumbent's stage 2 profit when cI > E. The incumbent's stage 2 profit when the publisher does not know the entrant's CTR (left-hand side) is cI - cE integrated over all values of cE. When cE is known (righthand side), for values of cE  (0, R), we have cI - R integrated; because R > cE, the incumbent is better off when the publisher does not know cE for this integration range. Within the integration range of cE  (R, cI), the expressions on both sides are equal to cI - cE. Finally, within the range cE  (cI, 1), negative values are integrated on the left-hand side expression, whereas the right-hand side expression is zero. For this integration range, the incumbent is better off when the publisher knows cE. Overall, the negative effect of learning cE on the incumbent's profit (which happens for cE  (0, R)) is constant as cI increases, but the positive effect (which happens for cE  (cI, 1)) shrinks as cI increases. Therefore, a weak incumbent with low cI is better off in stage 2 when cE is learned, whereas a strong incumbent with high cI is better off when cE is not learned. This incentivizes a weak (strong) incumbent to underbid (overbid) in stage 1. We summarize these results in the following proposition.
Proposition 2 (Advertisers' Strategies in Stage 1 Under
Incomplete Information). In stage 1, the entrant always bids above its valuation. The incumbent bids below its valuation if cI is low and bids above its valuation if cI is high. See Figure 2.
The advertisers' bidding behavior outlined in Proposition 2 can also be understood from an asymmetric learning perspective. Suppose that the publisher always learns the entrant's CTR in stage 2 regardless of the stage 1 outcome. In this hypothetical scenario, the advertisers' stage 2 payoffs would be

Table 2. Entrant's Stage 2 Profit

Publisher does not know cE

E[E2]

1 0

cE

(1

-

cI

/E)

dFE

(1 - cI/E)

1 0

cE

dFE

(1 - cI/E)E

E - cI

1 0

cE

-

cI

dFE

Publisher knows cE

E[E2]

1 0

cE(1

-

cI

/cE)+

dFE

1 cI

cE(1

-

cI

/cE

)

dFE

1 cI

cE

-

cI

dFE

592

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Table 3. Incumbent's Stage 2 Profit When cI > E

Publisher does not know cE

E[I2]

cI(1 - E/cI)

cI - E

1 0

cI

-

cE

dFE

E[I2]

Publisher knows cE

1 0

cI

(1

-

max[cE,

R]/cI

)+

dFE

R 0

cI

(1

-

R/cI )

dFE

+

cI R

cI (1

-

cE /cI )

dFE

R 0

cI

-

R

dFE

+

cI R

cI

-

cE

dFE

independent of the stage 1 outcome. As a result, neither the incumbent nor the entrant would have incentive to deviate from truthful bidding in stage 1. In our model, however, the fact that the publisher's learning is asymmetric--that is, learning occurs if only if the entrant wins in stage 1--creates an important interdependence between the two sequential auctions. This interdependence, which is depicted in Figure 1, generates strategic incentives for advertisers to deviate from truthful bidding.
3.3. Publisher's Revenue We turn to the implications of learning incentives on the publisher's revenue. Is the publisher unequivocally better off knowing the entrant's CTR? One may conjecture that being more informed about the bidders can only benefit the publisher as it would allow for more efficient ad slot allocation. Surprisingly, we find that this is not always the case. Under certain conditions, not knowing the entrant's CTR increases the publisher's revenue.20
The intuition revolves around two effects. First, the publisher's ignorance of the entrant's CTR induces the entrant to bid more aggressively in stage 1. As explained above, the incentive to bid higher arises from the fact that the entrant's expected payoff in stage 2 is higher if the publisher learns its CTR. This higher bid increases the incumbent's payment if it wins, which results in higher stage 1 revenue for the publisher.
The second effect is subtler. Consider the publisher's stage 2 revenue when cI > E. Recall that the advertisers

bid truthfully in stage 2. If cE is not known, the publisher's expected revenue in stage 2 is (E/cI)cI E. Using the definition of E, this can be rewritten as

1

cE dFE.

(3)

0

If cE is known, the publisher's stage 2 revenue depends on the realization of cE and can be written as

R

cI

1

R dFE + cE dFE + cI dFE.

(4)

0

R

cI

Comparing the two integral expressions (3) and (4), we see that, within the integration range cE  (0, R), expression (4) is larger; within the range cE  (R, cI), the two expressions are equal, and within the range cE  (cI, 1), expression (3) is larger. Thus, if cI is not too high, then the publisher's revenue when it does not
know cE (i.e., expression (3)) is larger than when it does (i.e., expression (4)). Intuitively, because the benefit of a high realization of cE is bounded from above by cI, that is, the publisher cannot fully reap the benefits of a high cE, the publisher's stage 2 revenue may be higher when cE is not known than when it is. Taken together, the publisher's ignorance of the entrant's CTR can be blissful for moderate values
of cI. This result is formalized in the following proposition.

Proposition 3 (Publisher Revenue: Ignorance Is Bliss).
The publisher's revenue is higher not knowing the entrant's CTR than knowing it if and only if (i) c < cI < c or (ii) cI  E and  < 1, where c and c are defined in the appendix.

Figure 2. (Color online) Stage 1 Equilibrium Bids; R

1 4

,



1 2

,

FE(c)

c

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

593

Proposition 3 suggests that publishers do not always have to be concerned about not knowing the new advertisers' type. In fact, not knowing the new advertisers' CTRs can sometimes increase the publisher's revenue because ignorance induces advertisers to bid aggressively. However, Proposition 3 also reveals conditions under which the publisher's ignorance can be a curse. For instance, if the incumbent is strong (e.g., high cI in Figure 3), then not knowing the entrant's CTR decreases the publisher's revenue. This is because, when cI is sufficiently high, the entrant, which is the "price setter" in the auction, bids less aggressively. Furthermore, when cI is high, the publisher does not learn the entrant's CTR in equilibrium because of the incumbent's aggressive bidding. As a result, it suffers from suboptimal allocation of the ad slot (i.e., missing out on a potentially high cE).
Given that the publisher may incur a revenue loss for not knowing cE, one may wonder what strategies a publisher can deploy to mitigate this loss. In the next section, we characterize the publisher's optimal strategy in a learning environment. We show that, in the presence of learning incentives, it is optimal for the publisher to favor the entrant in stage 1 to increase the probability of the entrant's winning.
4. Publisher's Strategy
In the previous section, we assumed that advertisers have the same, commonly known valuation for the ad slot. Moreover, we focused primarily on the advertisers' strategies with the publisher passively implementing an exogenously fixed auction mechanism. In this section, we analyze a setting in which advertisers have stochastic, private valuations, and more importantly, the publisher optimally chooses the mechanism that maximizes its profit.21 We show that, in the presence of learning incentives, the publisher can achieve the

optimal revenue using a variation of the standard second-price auction with personalized (advertiserspecific) reserve prices. Additionally, the learning incentives induce the publisher to favor the entrant in stage 1.

4.1. Optimal Mechanism
Suppose advertiser j's per-click valuation, vj, is drawn from a c.d.f. Gj with support [0, vj] and is private information for j  {I, E}. Following the literature on
auction theory (see Krishna 2010), we impose the
following assumption on Gj.

Assumption 1 (Increasing Hazard Rate). Let gj denote the

density

of

Gj.

The

hazard

rate

function

gj (x) 1-Gj (x)

is

increasing

in x for j  {I, E}.22

Prior to stage 1, the publisher sets the ad auction rules. In particular, it decides the allocation rule (who wins the ad slot) and the payment rule (how much each bidder pays). The rest of the game proceeds the same as in Section 3. The following lemma characterizes the publisher's optimal mechanism.23

Lemma 3 (Publisher's Optimal Mechanism). The publisher's optimal mechanism is as follows.
Stage 1: Compute the incumbent's and entrant's virtual bids, respectively, as

I1(bI1)

cI

bI1

-

1

- HI(bI1) hI (bI1 )

and

E1(bE1)

E

bE1

-

1

- HE(bE1) hE(bE1)

+ P,

(5)

and set the virtual reserve price to I. Stage 2: Compute advertiser j's virtual bid as

j2(bj2)

cj

bj

2

-

1

- Gj(bj2) gj(bj2)

for j  {I, E},

(6)

Figure 3. (Color online) Publisher Revenue; R

1 4

,



1 2

,

FE

(c)

c

594

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

and set the virtual reserve price to zero, where Hj(bj1)

Gj

b - j
j1 cj

, I

dFE - E2(E),

I2 P

(E) -

1 0

P2

1
0
(cE

I2(cE) dFE, E ) dFE - P2(E),

1 0

E2

(cE

)

and j2(cE)

denotes the stage 2 profit of player j  {I, E, P} under the

optimal stage 2 mechanism when the publisher assigns the entrant's CTR as cE.24 Allocate the ad slot to the advertiser with the highest virtual bid provided it exceeds the virtual

reserve price. Payment (per click) is equal to the minimum

bid required for the winning advertiser to win.

The details of the proof are provided in the appendix. We briefly discuss here the intuition behind the optimal mechanism. Variables j, j  {I, E, P}, capture the difference in a full-information stage 2 versus an incomplete-information stage 2 in the players' payoffs; that is, E measures the additional stage 2 payoff the entrant gains from having its CTR learned by the publisher, P measures the additional stage 2 payoff the publisher gains from learning the entrant's CTR, and I represents the additional stage 2 payoff the incumbent gains if the entrant's CTR is not learned. Distributions Hj, j  {I, E}, are similar to advertisers' valuation distributions Gj except that they are shifted to account for the advertisers' incentives to have the entrant's CTR learned or not learned.
The derivation of the optimal mechanism closely follows Myerson (1981). The optimal mechanism in
stage 2, in which learning incentives are absent, is a direct application of Myerson's lemma. Intuitively,
the virtual bid transformation amounts to sorting
advertisers based on the marginal revenue they bring
to the publisher (Krishna 2010). Thus, allocating the
ad slot to the advertiser with the highest virtual bid maximizes the publisher's profit.
In stage 1, the presence of learning incentives (for both the advertisers and the publisher) distorts the advertiser's virtual bids compared with the standard format in Myerson (1981). Specifically, we see from (5) that the publisher additively inflates the entrant's virtual bid by P. This term represents the additional stage 2 payoff the publisher gains from learning the entrant's CTR and is proven to be always positive.25
Intuitively, because the publisher can only learn the entrant's CTR if the entrant wins in stage 1, the
publisher has an incentive to help the entrant win. The
publisher accomplishes this by increasing the entrant's virtual bid in stage 1.26
Lemma 3 also sheds light on the nature of the optimal virtual bids. For example, if the advertisers' val-
uations are uniformly distributed, then it is optimal
for the publisher to compute virtual bids by multiplying the advertisers' bids with their expected CTRs
(modulo an additive term). This implies that publishers with diffuse priors about advertisers' valua-
tions can achieve near-optimal revenues by ranking

advertisers based on CTR × bid. Moreover, the fact that the CTR-multiplier formula is also used in stage 1 in the presence of learning dynamics attests to the robustness of this particular virtual bid format.
Next, we discuss the advertisers' bidding strategies under the optimal mechanism. Interestingly, we find that the insights from Section 3 regarding bid adjustments carry over to the optimal mechanism setting. As shown in Figure 4, the entrant overbids in stage 1. Its motivation closely mirrors that of Section 3: its expected payoff in stage 2 is greater if its CTR is learned by the publisher because the downside risk of a low cE draw is bounded.
A weak incumbent bids below its valuation and helps the entrant reveal its CTR. In contrast to Section 3, however, the heterogeneity in advertisers' valuations necessitates an additional condition for this result to hold. Namely, the valuation distributions GI and GE must be such that the weak incumbent's probability of winning in stage 2 decreases sufficiently slowly in cE. Roughly, this is equivalent to the incumbent's valuation distribution being more concentrated around higher values than is the entrant's valuation distribution. For then, even if the entrant's CTR turns out to be high in stage 2, the incumbent, whose valuation is more heavily concentrated on higher values, would still have a considerable chance of winning. This condition ensures that the weak incumbent, who effectively helps the entrant win in stage 1, feels adequately "insured" against the risk of a high cE draw in stage 2. The weak incumbent then foregoes its stage 1 profit and helps reveal the entrant's CTR as it creates an opportunity to earn higher profits against an entrant with a low CTR draw.
Finally, a strong incumbent may overbid under the optimal mechanism (see Figure 4). Again, the intuition mirrors that from Section 3; however, the added necessary condition is that the incumbent's probability of winning in stage 2 decreases steeply in the entrant's CTR draw. In this case, the incumbent deems the risk of revealing the entrant's CTR in stage 2 too high. Therefore, it bids aggressively in stage 1 and deters the publisher from learning the entrant's CTR. We summarize these findings in the following proposition.
Proposition 4 (Advertisers' Strategies in Stage 1 Under
Optimal Mechanism). Suppose the publisher implements the optimal mechanism characterized in Lemma 3. In stage 1, the entrant always bids above its valuation. The incumbent bids below its valuation if cI is low and the valuation distributions GI and GE are such that the probability of the incumbent winning in stage 2 decreases sufficiently slowly in the entrant's CTR draw. The incumbent bids above its valuation if cI is high and GI and GE are such that the incumbent's probability of winning in stage 2 decreases

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

595

Figure 4. (Color online) Advertisers' Bid Adjustments Relative to Valuation; GI(xI)

xI 2

4, GE(xE)

xE

steeply in the entrant's CTR draw. The exact conditions are provided in the proof in Section A.4.
4.2. Optimal Reserve Prices In this section, we delve deeper into a particular aspect of the optimal mechanism, the (effective) reserve prices. We examine how the learning incentives affect the publisher's optimal reserve prices in stage 1. Before we proceed, we should clarify two distinct units of reserve prices. Virtual reserve price is defined in the virtual bids space and measures the minimum virtual bid required for an advertiser to participate. Effective reserve price is defined in the submitted bids space and refers to the minimum submitted bid required for a particular advertiser to participate (Ostrovsky and Schwarz 2016). To illustrate, suppose the publisher sets a virtual reserve price of $0.15, and an advertiser bids b. Suppose that the advertiser's virtual bid is set to 0.1 × b by the publisher. The advertiser is considered in the auction if its virtual bid 0.1 × b is greater than or equal to $0.15. Equivalently, the advertiser is considered if its submitted bid b is greater than or equal to the effective reserve price $0.15/0.1 $1.5.
Although the optimal mechanism uses the same virtual reserve price for all advertisers, because it applies different virtual bid transformations, advertisers face different effective reserve prices. In the following, we consider the effective reserve price as it is a more intuitive concept to discuss advertisers' payments.
Our analysis shows that the optimal reserve price depends crucially on two countercurrent forces. On the one hand, the entrant's overbidding incentive exerts an upward force on the entrant's reserve price. That is, the higher the value that the entrant gains from the publisher learning its CTR is, the higher it bids in stage 1. The publisher can, thus, extract more from the entrant by setting a higher reserve price. Therefore, the reserve price increases with the entrant's overbidding incentive. The converse is true for the incumbent: the reserve price for the incumbent increases with the

incumbent's value of deterring the publisher from learning the entrant's CTR.
On the other hand, the publisher's learning incentive pushes the entrant's reserve price downward. The higher the value for the publisher if it learns the entrant's CTR is, the greater its incentive to help the entrant win in stage 1. This is accomplished by lowering the entrant's reserve price. Therefore, the reserve price decreases with the publisher's learning incentive.
Figure 5 illustrates the dynamics of each advertiser's optimal reserve price for particular valuation distributions GI and GE. Interestingly, the entrant's reserve price can be nonmonotonic in the stage 2 weight parameter, . When  is small, the publisher's learning incentive dominates, and as  increases, the publisher lowers the reserve price to facilitate learning the entrant's CTR. When  is large, however, the entrant's overbidding incentive dominates. Here, as  increases, the publisher increases the reserve price to extract more surplus from the entrant.
So far, we have discussed two countervailing forces that induce the publisher to increase/decrease the entrant's reserve price in a learning environment. But what is the net effect of these forces on the entrant's reserve price? We conclude this section by presenting the conditions under which the publisher sets a lower reserve price for the entrant when it does not know the entrant's CTR than under full information. Although a closed-form characterization of the optimal reserve price with respect to  is intractable, we can analytically delineate the conditions for when the publisher sets a lower reserve price. In Proposition 5, we show that, for any , the publisher sets a lower reserve price for the entrant in a learning environment (compared with full information) if and only if the increment in its stage 2 profit from learning the entrant's CTR is sufficiently high.

Proposition 5. The publisher sets a lower reserve price for

the entrant when the publisher does not know the entrant's

CTR

than

when

it

does

if

and

only

if

P

>

I

+

E  

(where

j

is as defined in Lemma 3 and  > 0 is as defined in the proof);

596

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Figure 5. (Color online) Optimal Reserve Prices (Not to Scale); GI(vI)

vI 2

3, GE(vE)

4vE 3

3, FE(c)

c

that is, the publisher's gain in stage 2 from learning the entrant's CTR is sufficiently high.
The results of Lemma 3 and Proposition 5 show that, when the publisher's learning incentives are sufficiently strong, it is optimal for the publisher to favor the entrant. Favoring the entrant can be implemented by increasing the entrant's virtual bid as in Lemma 3 or decreasing the entrant's reserve price as in Proposition 5. In Section 5.3, we show that other mechanisms that favor the entrant can create a similar effect. For example, giving free advertising credit to new advertisers or artificially inflating the "estimated" CTR of new advertisers can increase the publisher's revenue.
5. Extensions
We present four extensions of the main model to assess the robustness of our results. In Section 5.1, we show that our results from the main model continue to hold under impression-based pricing. In the main model, we assumed that the advertisers and the publisher have the same level of information about the CTRs; in Section 5.2, we relax this assumption to establish the robustness of our results. In Section 5.3, we explore other mechanisms that help the publisher increase its revenue in a learning environment. We show that offering free ad credit to new advertisers or artificially inflating the estimated CTR of new advertisers can increase the publisher's revenue. Finally, in Section 5.4, we turn to the context of search advertising and discuss how our results change when there are multiple ad slots.
5.1. Impression-Based Pricing Suppose the publisher sells a single ad slot through a cost-per-impression (CPM) auction instead of cost per click. Consistent with practice, we assume that the publisher receives the advertisers' per-impression bids and assigns the slot to the highest bidder.27 The

winning bidder pays the minimum bid required to

win the auction.

To model a CPM auction, it is important to rec-

ognize that the relevant performance metric for ad-

vertisers is the consumers' "estimated action rates"

per ad impression. Consumer actions can range from

clicking a link to watching a video longer than a cer-

tain amount of time or performing a certain task on

the advertiser's website. For j  {I, E}, let aj  [0, 1] denote the probability of action of a consumer con-

ditional on viewing advertiser j's ad. We normalize

the value of a consumer's action to 1 for both ad-

vertisers. Put together, a single impression is worth aj to advertiser j.

In the spirit of the main model, assume that the

action probability associated with the entrant's ad, aE, is known only up to its c.d.f. F~ with mean a~E, and the incumbent's action probability, aI, is common knowledge.28 The true value of aE can only be learned if the entrant wins the first-stage auction; only then

can the entrant accurately assess the likelihood of

a consumer responding to its ad with some predefined

action. Similar to Section 3, we assume that the re-

serve price is exogenously set at R and is less than aI

and a~E. In addition, as in Section 3, we assume aI +



(aI - a~E)+ -

1 0

(aI

-

max[aE, R])+

dF~

 R to ensure the

existence of weakly dominant strategies. We obtain

the following proposition, which echoes the results

from the main model.

Proposition 6 (Advertisers' Strategies in Stage 1 Under CPM). In stage 1, the entrant always bids above its valuation. The incumbent bids below its valuation if aI, the action probability associated with its ad, is low, and bids above valuation if aI is high. See Figure 6.
Proposition 6 shows that advertisers' strategies under impression-based pricing are similar to those under performance-based pricing. However, there is an important difference in the advertisers' incentives

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

597

Figure 6. (Color online) CPM Bidding Strategies; R

1 4

,



1 2

,

F~ (a)

a

between the two pricing models. Under performancebased pricing, the entrant does not care about learning the CTR itself; it overbids so that the publisher learns the CTR. In contrast, under impression-based pricing, because the CTR determines the entrant's valuation per impression, the entrant overbids so that the entrant itself learns its CTR. Similarly, under performance-based pricing, the incumbent adjusts its bid to affect whether the publisher learns the entrant's CTR or not, whereas under impression-based pricing, the incumbent wants to affect whether the entrant learns its own CTR or not. Despite discrepancies in the advertisers' incentives across these two pricing models, the mathematical expressions that capture the advertisers' payoffs are relatively similar: in performance-based pricing, the publisher includes the advertiser's CTR in the effective bid, whereas in impression-based pricing, the advertiser includes the CTR in its submitted bid. As such, we obtain the same strategic behavior under both pricing models.
5.2. Information Asymmetry In this section, we test the robustness of our results when the information symmetry assumption is relaxed. We examine two distinct cases. In Section 5.2.1, we demonstrate that the qualitative insights of the main model carry over when the entrant is at an informational disadvantage; that is, the entrant only knows the incumbent's CTR up to some distribution, and the incumbent and the publisher know the incumbent's true CTR. In Section 5.2.2, we replicate the incumbent's bidding pattern from the main model in a setting in which the incumbent only knows the distribution of the entrant's CTR up to a distribution, and the entrant and the publisher know the true distribution of cE.
5.2.1. Entrant Does Not Know the True cI. In the main model, we assume that the entrant, incumbent, and

publisher possess the same level of information regarding the incumbent's CTR. In reality, it could be argued that the entrant may not be as knowledgeable about cI as the incumbent and the publisher. In this section, we analyze a model that captures this information asymmetry more realistically. Our objective is to show that the entrant's overbidding behavior is robust to the setting in which the entrant is less informed about cI than the incumbent and the publisher.
To that end, suppose that the entrant does not know the true value of cI but knows that it follows some distribution FI over the support [R, 1]. On the other hand, the publisher and the incumbent both know the true cI. We find that the entrant's overbidding pattern is robust to this information setting. The following proposition summarizes the finding.
Proposition 7. Suppose the entrant does not know the true CTR of the incumbent but only knows its distribution. In stage 1, the entrant always bids above its valuation.
We know from Section 3 that the entrant overbids for any given value of cI. Intuitively, when the entrant only knows the distribution of cI, it integrates over all possible values of cI to calculate its optimal bid. Because the optimal strategy for any value of cI is to overbid, the optimal strategy when cI is not known (i.e., the outcome of the integration) is still to overbid.
5.2.2. Incumbent Does Not Know the True Distribution of cE. Another important case to consider is when the incumbent, as opposed to the entrant, is at an informational disadvantage. How would the incumbent having less information about cE than the entrant and the publisher impact its bidding strategy?29 To address this question, we allow for the possibility that the incumbent does not know the true distribution of cE; that is, the incumbent strategizes based on some prior belief over a range of possible distributions of cE.

598

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

The publisher and the entrant, on the other hand,

know the true distribution of cE. Suppose the incumbent believes that the true dis-

tribution of cE is Fx for some x  -. Let P(x) denote the c.d.f. of the incumbent's prior over the class of dis-

tributions {Fx}x- and x the mean of Fx. In addition, as in Section 3, assume that the condition for

the existence of weakly dominant strategies holds:

cI + 

x-

(cI - max[x, R])+ -

1 0

(cI

-

max[cE,

R])+

dFx

·

dP(x)  R. Then there exist CTR thresholds such

that a weak incumbent (i.e., with a low CTR) bids

below its valuation, whereas a strong incumbent (i.e.,

with a high CTR) bids above it. We state this as

a proposition.

Proposition 8. Suppose the incumbent does not know the true distribution of the entrant's CTR. There exists a pair of thresholds (c , c ) such that the incumbent bids below its valuation if cI < c and bids above valuation if cI > c .
The intuition for the result of Proposition 8 is similar to that of Proposition 7. For any distribution Fx, we know from Section 3 that a weak incumbent underbids and a strong incumbent overbids. When the incumbent does not know the entrant's distribution, it integrates over all possible distributions to calculate its optimal bid; however, integration preserves the ordering. Therefore, when the incumbent is sufficiently weak, it overbids, and when it is sufficiently strong, it overbids.

5.3. Other Mechanisms In this section, we discuss two other mechanisms that can help publishers increase their revenue in a learning environment.

5.3.1. Free Advertising Credit for New Advertisers.

Publishers run promotions that provide free ad credit
to new advertisers. For example, Google offers ad cou-
pons to new advertisers worth up to $75, which can be redeemed within 30 days of spending the first $25 in advertising.30 Similarly, Facebook sends promotional codes to new advertisers that have sufficiently high
user engagement on their pages. In this section, we
study the implications of offering ad credit on the advertisers' bidding strategies and the publisher's profit.
Suppose the publisher sets the ad credit   0 prior to stage 1, and then the incumbent's CTR is drawn from c.d.f. FI with support [R, 1].31 The advertisers observe , and the rest of the game proceeds identi-
cally as in the main model. The effect of the publisher's ad credit is to transfer free ad credit  to the entrant if it wins in stage 1. Thus, the entrant's stage 1 payoff when the publisher offers ad credit  is

cE

1

-

max[cI bI1,R] E

+  if

it

wins

and

zero

otherwise.

Next, we present the advertisers' bidding strategies when the publisher offers free ad credit.

Proposition 9 (Advertisers' Strategies with Ad Credit). If

the publisher offers ad credit   0 to the entrant, then, com-

pared with the benchmark bids (1) and (2), the incumbent's

first-stage bid remains unchanged, whereas the entrant's bid

increases

by

 E

to

bE1()

1

+

 E

+

 E

1
cE - cI dFE - E - cI + . (7)
cI

The intuition behind advertisers' bidding strategies

is straightforward: the incumbent's bidding strat-

egy does not change because  does not affect its

underlying payment mechanism. However, the ad

credit increases the entrant's payoff when it wins in

stage 1 and, thus, incentivizes the entrant to bid more

aggressively in the first stage.

We turn to the impact of ad credit on the publisher's

revenue. Given the first stage bids of the incumbent

and the entrant in (1) and (7), respectively, the pub-

lisher's expected revenue as a function of ad credit 

is E[P()]

1 R

P(,

cI )

dFI ,

where

P(, cI)



EbE1() +  min[cI max[cIbI1, R] - 

,

E]

if cIbI1  EbE1(),



cI
+  max[cE, R] dFE
0
+ (1 - FE(cI))cI)

if cIbI1 < EbE1().

(8)

Expression (8) reveals three forces created by the ad credit . The first is the cost of  that is transferred from the publisher to the entrant when it wins; this has a negative effect on the publisher's revenue and is represented by - in the second case of expression (8). The two other forces have a positive effect on the publisher's revenue and are more nuanced; we discuss each of these in turn.
Recall that the entrant's bid increases in proportion to the ad credit  (see Proposition 9). This implies that the incumbent's payment upon winning increases with . The publisher can, thus, extract additional surplus from the incumbent by inflating its payment. We call this the extraction effect.
The last effect of ad credit concerns the change in the publisher's stage 2 payoff. To illustrate, suppose the incumbent's CTR is high. In this case, knowing the entrant's CTR leads to higher publisher revenue than that under ignorance (see Proposition 3). This is due to the more efficient allocation of the ad slot as well as a higher expected payment of the winner. Because offering ad credit helps the entrant win, thereby facilitating the publisher learning its CTR, it could increase the publisher's stage 2 revenue. We call this the learning effect.

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

599

These three effects summarize all the pros and cons of offering ad credit in our model.32 Because of space considerations, we relegate the extended discussion to Section OA1 of the online appendix. In the discussion, we (i) delineate the condition under which offering ad credit is profitable for the publisher, (ii) characterize the extraction effect and learning effect more formally, and (iii) discuss the optimal ad credit level that maximizes the publisher's profit.
5.3.2. Inflating the Bid Multiplier. In this section, we analyze how the publisher's profit would change if, instead of offering ad credit (Section 5.3.1), the publisher artificially inflated the entrant's effective bid by a multiplier   1. To begin, suppose that the publisher applies a boosting multiplier  such that, for any bid bE of the entrant, the entrant's stage 1 effective bid EbE increases to  × EbE. The rest of the game proceeds as in the main model.
We find that the two policies--offering ad credit and multiplicatively boosting the effective bid--have the same qualitative implications for the publisher's profit. The intuition is as follows. In the case of ad credit, the entrant increases its own effective bid by bidding high in anticipation of the ad credit, whereas in the case of a boosting multiplier, the publisher increases the effective bid on behalf of the entrant. Thus, the resultant effective bids across the two policies are the same, and the players' payoffs are identical up to a constant. We formalize this finding in the following proposition.
Proposition 10. The multiplicative boosting policy is isomorphic to the free ad credit policy in the sense that the publisher can replicate (up to a constant) its profit from one policy using the other.
In summary, we find that other mechanisms, such as offering free ad credit or inflating the entrant's effective bid can increase the publisher's revenue as they facilitate learning by favoring the entrant. These mechanisms, however, are inefficient in the sense that they do always guarantee the publisher the optimal profit. To see this, note that the optimal mechanism sometimes lowers the payment for both the entrant and the incumbent at the same time (e.g., when the incumbent's CTR is low). Such an outcome cannot be produced by offering ad credit or inflating the entrant's bid because these instruments unilaterally benefit the entrant at the expense of the incumbent.
Another reason why these alternative mechanisms do not always yield the optimal profit pertains to the virtual bid transformations. Offering ad credit and inflating the entrant's bid do not take into account the advertisers' valuation distributions in the allocation rule. Recall that the optimal mechanism computes the marginal revenue each advertiser generates

based on the advertisers' valuation distributions and then allocates the ad slot accordingly. Such efficient allocation cannot always be attained with artificial adjustment of the entrant's effective bid, especially when the valuation distributions are nonuniform.
5.4. Multiple Advertising Slots
Another assumption in the main model is that the publisher offers a single ad slot. In search advertising, however, search engines typically sell more than one ad slot, which are allocated via the generalized second-price (GSP) auction. In this section, we test whether the main insights derived from the base model carry over to the multiple-slot GSP setting.
We consider a two-slot, three-player game in which two incumbents face an entry from a new advertiser. To simplify the analysis, we assume that the existing advertisers also learn cE if the entrant wins in stage 1.33 As in Section 3, all advertisers share a common perclick valuation of one, and the reserve price R is less than E. We normalize the position-specific CTR of the first ad slot to one and denote that of the second slot as   (0, 1). We index by i and I the incumbent with the lower and higher CTR, respectively (i.e., ci < cI) and normalize cI to one.34 Because a weakly dominant strategy equilibrium no longer exists, we use the lowest-revenue envy-free (LREF) Nash equilibrium (Edelman et al. 2007) for equilibrium selection.
Our analysis shows that the main results are robust to multiple-slot settings under the GSP auction. In particular, the entrant's overbidding strategy carries over but with the caveat that the reserve price has to be sufficiently high. Moreover, the findings that (i) a weak incumbent prefers to reveal the entrant's CTR and that (ii) a strong incumbent has incentives to mask the entrant's CTR are preserved in the multipleslot extension. The next lemma summarizes the advertisers' incentives in stage 1.
Lemma 4 (Multiple-Slot GSP Auction). The entrant and the incumbent with the lower CTR are always better off in stage 2 if the entrant's CTR is learned. The incumbent with the higher CTR is better off in stage 2 if the entrant's CTR is learned if and only if (i) E < ci and  > ^ or (ii) ci  E and  > 12, where ^ is defined in the appendix.
Lemma 4 shows that, if the second ad slot generates very few clicks (i.e.,  is low), then the incumbent with the higher CTR is better off masking the entrant's CTR, thereby securing the top ad position. The intuition resonates with the insights from the main model. Had the search engine learned the entrant's CTR and it turned out to be high, the strong incumbent would risk being "downgraded" to the lowCTR slot below. Conversely, if the second ad slot generates almost as many clicks as the first slot (i.e., high ), the strong incumbent benefits from the

600

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Figure 7. (Color online) Optimal Bids in GSP Without Reserve Prices; 

1, 

1 2

search engine learning the entrant's CTR. The reason is that the incumbent can capitalize on a potentially low cE realization while its loss from possibly being driven down to the second ad slot against a high cE is mitigated by the high .
Next, we examine the advertisers' bidding strategies in stage 1. Figures 7(a) and 8(a) depict the entrant's bid with respect to the weak incumbent's CTR, ci. Observe that, for high ci, the entrant's high bid mirrors the pattern from Section 3 (see Figure 2). Intuitively, if the competing incumbent's CTR is high, then the entrant can earn positive payoffs if and only if (i) its CTR is learned by the search engine in stage 2 and (ii) the realized CTR turns out to be higher than ci. Therefore, when facing a strong incumbent, the entrant bids aggressively in stage 1 to create an opportunity to receive a positive payoff in stage 2.
When facing a low ci, the entrant's bidding strategy may diverge from the main model. In contrast to the single-slot case, the entrant may lower its bid when the incumbent's CTR is low (see Figure 7(a)). The intuition revolves around the weak incumbent's incentive to help the search engine learn the entrant's CTR. Figure 7(b) shows that a weak incumbent shades

its bid to help the entrant secure the second slot in stage 1. The search engine can then learn the entrant's CTR, which, in turn, creates an opportunity for the weak incumbent to win in stage 2. And because, in the LREF equilibrium, the advertisers' bids change in proportion to their competitors', the entrant also shades its bid for low ci.
However, when the search engine sets a sufficiently high reserve price, the weak incumbent bids below the reserve price in the LREF equilibrium (see Figure 8(b)). As a result, the entrant's incentive to shade its own bid disappears, and we recover the overbidding pattern from the main model (see Figure 8(a)). We formalize this finding in the next proposition.
Proposition 11. The entrant always bids (weakly) higher in the setting in which the search engine does not know (but can learn) the entrant's CTR compared with the full-information setting if and only if the reserve price is sufficiently high.
6. Conclusion
In this paper, we study learning in online advertising. We investigate how a publisher's lack of information about a new advertiser's click-through rate affects the

Figure 8. (Color online) Optimal Bids in GSP with Reserve Prices; 

1, 

1 2

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

601

strategies of new and existing advertisers as well as the publisher. Our theoretical analysis offers useful insights for several issues of managerial importance.
6.1. Implications for New Advertisers We show that, when a new advertiser starts online advertising with a publisher, it should bid aggressively in the beginning, sometimes even above its valuation. The reason is that the new advertiser earns a higher expected future payoff when its CTR is learned by the publisher than when it is not. The fact that the new advertiser's CTR can only be learned when the advertiser wins sufficiently many auctions provides strong incentives for the new advertiser to bid aggressively until its CTR is learned.
Our results also indicate that a new advertiser should be prepared to, temporarily, pay more than its valuation per click in the beginning. If the advertiser's CTR turns out to be high, the average cost-per-click declines over time. In other words, a new advertiser should not leave the market even if the initial cost of advertising is high.
6.2. Implications for Existing Advertisers The entry of a new advertiser has two negative effects for an existing advertiser. First, if the new advertiser's CTR turns out to be high, the existing advertiser risks losing its ad slot to the new advertiser. Second, because the online advertising slots are sold in auctions, entry of a new advertiser increases the payment of the existing advertiser. We demonstrate that, in response to these entry effects, an existing advertiser with a high CTR--for example, a trademark owner advertising on its branded keywords or a manufacturer advertising on its own product pages on an online retailer--should bid more aggressively to make it harder for the new advertiser to reveal its CTR. On the other hand, an existing advertiser with a low CTR--for example, lowest-slot advertisers--should lower its bid to make the revelation process easier. By doing so, the existing advertiser foregoes its shortterm profit but creates an opportunity to earn a larger long-term profit in the event that the new advertiser's CTR turns out to be low.
6.3. Implications for the Publisher When a new advertiser enters the market, the publisher does not know its CTR; the CTR can only be learned if the new advertiser's ad is displayed to consumers sufficiently many times. On the surface, it appears that this lack of information about the new advertiser would lead to a suboptimal allocation of the ad slot and, thus, lower the publisher's expected revenue. Surprisingly, our result shows that the ignorance may be a boon to the publisher: its ignorance may incentivize the advertisers to bid more aggressively,

which, in turn, may increase the publisher's revenue compared with the full information benchmark.
The publisher's ignorance, however, is not always blissful. In particular, if the existing advertiser's CTR is high, the lack of information about the new advertiser may hurt the publisher's long-term revenue. We show that the publisher can mitigate this loss by favoring the new advertiser in the auction. For example, by lowering the reserve price of, offering free ad credit to, or artificially inflating the bid of the new advertiser, the publisher can increase the probability that the new advertiser wins. This allows the publisher to learn the new advertiser's CTR more quickly, which, in turn, increases the publisher's long-term revenue. In fact, our results show that the optimal selling mechanism favors the new advertiser in the early rounds of the auction.

6.4. Future Research Our work is a first step toward understanding how agents strategically respond to a publisher's learning process. Future research could explore other scenarios in which agents and publishers interact in a learning environment. For instance, a publisher may want to learn sellers' qualities of products for ranking purposes or customers' WTP for pricing purposes. In addition, although we allow the transition from an incomplete- to a full-information game, we make several simplifying assumptions in doing so. For example, the transition is discrete and binary in our model. Analyzing the advertisers' strategies in a model with a gradual, continuous learning process could lead to interesting additional insights. Finally, our model assumes that advertisers' CTRs are exogenously given. Although this assumption is realistic for a given ad copy, it does not capture advertisers' constant efforts in improving their ad copies (e.g., through experimenting with new ad copies). Modeling advertisers' experiments in improving their CTRs while the CTRs are being learned by the publisher and the advertisers themselves is another interesting avenue for future research.

Acknowledgments The authors thank Ron Berman, Kinshuk Jerath, Raghunath Rao, Miklos Sarvary, Woochoel Shin, Hema Yoganarasimhan, seminar participants at Yale University, Bocconi University, 2018 UT Dallas Bass FORMS Conference, 2018 Marketing Dynamics Conference, and 2018 Summer Institute in Competitive Strategy for their valuable comments. The authors are also grateful to the editor-in-chief, associate editor, and two anonymous reviewers for their constructive comments.

Appendix. Proofs

A.1. Proof of Proposition 1

The incumbent's stage 2 payoff is cI

1

-

max[cE bE2 ,R] cI

if cIbI2 

max[cEbE2, R] and zero otherwise. Suppose the incumbent

bids below valuation such that cIbI2 < cI. If max[cEbE2, R]  cI,

602

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

then truthful bidding ensures a positive payoff of cI - max[cEbE2, R], whereas bidding below valuation yields either the same payoff (if max[cEbE2, R]  cIbI2 < cI) or a lower payoff of zero (if cIbI2 < max[cEbE2, R] < cI). And both strategies yield zero payoff if cI < max[cEbE2, R]. Therefore, truth-
ful bidding weakly dominates underbidding. Suppose the incumbent bids above valuation such that
cIbI2 > cI. If max[cEbE2, R]  cI, then both strategies yield the same positive payoff of cI - max[cEbE2, R], and if cIbI2 < max[cEbE2, R], then both strategies yield zero payoff as the incumbent loses the auction. On the other hand, if cI < max[cEbE2, R]  cIbI2, then truthful bidding yields zero payoff, whereas overbidding yields a negative payoff of cI - max[cEbE2, R]. Therefore, truthful bidding weakly dominates overbidding. The incumbent's stage 1 payoff is

I1(bI1|bE1)

 cI

1

-

max[cEbE1 cI

,

R]

+ I2(bI2

1|bE2)

 I2(bI2 1|bE2)

if cIbI1  max[cEbE1, R], if cIbI1 < max[cEbE1, R],

where I2(bI2 1|bE2 1) denotes the stage 2 payoff. Because the incumbent's stage 2 payoff is the same regardless of the outcome of the stage 1 auction, it is immaterial when the incumbent determines its stage 1 bid. Therefore, by the same reasoning as earlier, we can show that a weakly dominant strategy in stage 1 is also truthful bidding. The weak dominance of the truthful bidding strategy for the entrant can be shown in a similar manner and is omitted.
Finally, consider the publisher's revenue. In any stage, the publisher receives cI(max[cE, R]/cI) if the incumbent wins and cE(cI/cE) if the entrant wins. The publisher receives nothing if both advertisers' effective bids are below the reserve price. The result follows. 

A.2. Proof of Proposition 2 We state two intermediary results that are used for the proof (see the online appendix for proofs).

Claim 1. Suppose a differentiable function f (x) is single-
peaked on the interval [a, b] (i.e., there exists some   (a, b)
such that f (x)  0 for all x   and f (x)  0 for all x  ) and f (a) < 0 < f (b). Then there exists a pair x~1  x~2 in (a, b) such that (i) f (x) < 0 for all x  [a, x~1), (ii) f (x) 0 for all x  [x~1, x~2], and (iii) f (x) > 0 for all x  (x~2, b].

Claim 2. If

1 c2I

1 cI

cE

dFE.

FE

is

continuous,

then

 cI

1 cI

1

-

cE cI

dFE

Proof of Proposition 2. Whether the incumbent's bid is

below

1

-

E cI

or
+
-

above valuation depends on

FE(R)

1

-

R cI

+
-

1 R

1

-

cE cI

+
dFE.

the sign If 0  cI

of g(cI)   R, then

g(cI) 0, so the incumbent bids truthfully. If R < cI  E,

then g(cI)

-FE(R)

1

-

R cI

-

cI R

1

-

cE cI

dFE.

And,

because

0 < P{cE  R}, we have g(cI) < 0, which means that the in-

cumbent bids below valuation. Finally, if E < cI  1, then

g(cI )

1 - E cI

- FE(R)

1-R cI

-

cI R

1

-

cE cI

dFE.

(A.1)

We show that (A.1) satisfies the properties of claim 1, thereby proving that there exists a pair of thresholds c~1  c~2 in (E, 1) that satisfies the properties stated in the proposition.

Differentiability:

g (cI)

 cI

1

-

E cI

-

R
1
0

-R cI

dFE

-

cI R

1

- cE cI

dFE

-

1 c2I

1 0

max[R

-

cE

,

0]

dFE

+

 cI

1
1-
cI

cE cI

dFE(qR < cI)

-

1 c2I

1 0

max[R

-

cE,

0]

dFE

+

1 c2I

1
cE dFE,
cI

(A.2)

where the last equality follows from claim 2. Because the derivative is well defined for all cI  (0, 1), we conclude that g(cI) is differentiable.

Single-Peakedness: From (A.2), it follows that the sign

of g (cI) is equal to the sign of h(cI) 

1 cI

cE

dFE

-

1 0

max[R

-

cE, 0] dFE. At cI

0+,35 h is positive because

1 cI

cE

dFE

-

1 0

max

[R - cE,0]dFE

1 0+

cE

dFE

-

1 0

max[R

-

cE

,

0]

dFE

1 0

cE

-

max

[R - cE,0]dFE 

1 0

cE

-

R

dFE

E - R > 0. At cI

1, h is neg-

ative because

1 0

max[R

-

cE

,

0]

1 cI

cE

dFE

d-FE01-ma01xm[Ra-x[cRE

- cE,0]dFE ,0]dFE <0.

1 1

cE

dFE

-

Finally, h(cI)

is nonincreasing because, for any >0, h(cI + ) - h(cI)

1 cI +

cE

dFE

-

1 cI

cE

dFE

-

cI cI

+

cE

dFE



0.

In total, because h(cI) is nonincreasing in [0, 1], h(0+)  0,

and h(1)  0, by the intermediate value theorem (IVT), there

exists a   (0, 1) such that h(cI)  0 for all cI   and h(cI)  0

for all cI  . By the sign equivalence, we have g (cI)  0 for

all cI   and g (cI)  0 for all cI  .

End point values: We have g(E)

-FE(R)

1

-

R E

-

E R

(1

-

cE E

)

dFE

<

0

and

g(1)

1 - E - FE(R)(1 - R) -

1 R

1

-

cE

dFE

R 0

R-

cE

dFE

> 0.

Therefore, g(cI) satisfies the properties of claim 1, which implies that there exists a pair c~1  c~2 in (E, 1) such that g(cI) < 0 for all cI  (E, c~1), g(cI) 0 for all cI  [c~1, c~2], and g(cI) > 0 for all cI  (c~2, 1]. This, in turn, implies that the

incumbent bids below valuation, truthfully, and above valua-

tion for cI  (E, c~1], cI  [c~1, c~2], and cI  (c~2, 1], respectively.

Second, whether the entrant bids below or above valu-

ation depends on the

If E  cI, then k(cI)

1 cI

(cE

-

cI )

dFE

-

E

sign
1
cI
- cI

of
cE
+

k(cI) 

1 cI

(cE

-

cI )dFE

- cI dFE  0. If E > cI

-

cI 0

cE

-

cI

dFE

>

0.

- E , then


- cI k(cI )

+

.

A.3. Proof of Proposition 3

Consider the difference in effective bids DA(cI)  cIbI1(cI) -

EbE1(cI). If cI  R, then DA(cI)

cI - E + 

E - R -

1 R

cE

-

R dFE)

cI - E + 

1 0

cE

-

R

dFE

-

1 R

cE

-

R

dFE

-(E - cI) -



R 0

R

-

cE

dFE

<

0.

Therefore,

the

entrant

wins

the

stage

1

auction for all cI  R. Note that the entrant also beats the

rIefEsR-er<v0ec1I(pc<Ir-icEem, btahexec[acnEu,DsReA])(b+cEI1d)(FcIE))cI<-10.(TcEfh.-eLreefmoc1IrmceE,at-h2e)cIeadnnFtdrEa+nEtw>(cRiIn.-s the first-stage auction in this interval as well.

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

603

Finally, if E  cI  1, then DA(cI) (1 + )(cI - E) -



1 cI

cE

-

cI

dFE

-



1 0

(cI

-

max[cE

,

R])+

dFE

.

Thus,

DA (cI )

1+

(1 - FE(cI)) + 

1

-

 cI

01(cI - max[cE, R])+ dFE ,

which

sim-

plifies to 1 + (1 - FE(cI)) + (1 - 1) if cI  max[cE, R] and 1 +

(1 - FE (cI)) + (1 - 0), otherwise. In either case, the de-

rivative is positive. Therefore, DA(cI) is strictly increasing in

the interval [E, 1]. Combined with the fact that DA(E)

-

1 E

cE

-

E

dFE

-



E - max[cE, R] + dFE < 0 and DA(1)

1 - E +  1 - E - 1 - max[cE,R]dFE 1 - E +  max[cE,

R] - cE dFE > 0, we have, by the IVT, a unique c^  (E,1) such

that DA(cI) < 0 for all cI < c^ and DA(cI) > 0 for all cI > c^. More

generally, combining the results from these intervals yields

that the entrant wins the stage 1 bid for all cI < c^ and the

incumbent wins for all cI  c^. Next, we characterize the publisher's expected payoff

when it knows the entrant's CTR. If the entrant's CTR

is known, then advertisers bid truthfully. Therefore, the

publisher's total

dFE +

cI 0

max[cE,

expected revenue is R] dFE). On the other

E[FP] hand,

if

(1 cE

+ ) is a

1 cI

cI

priori

unknown, then the publisher's expected revenue is

E[P]



EbE1 +  max[min[cI
1
max[cIbI1, R] + 

, E], R] m dFE

if cIbI1  EbE1,



+

m m
max[cE, R]I{cImax[cE,R]} dFE if cIbI1 < EbE1.

0

(A.3)

Next, define the difference D(cI)  E[P] - E[FP]. If R < cI  E, then

D (cI )

cI
max cI -  cI - max[cE, R] dFE, R
0

cI

1

-

max[cE, R] dFE + cI dFE ,

0

cI

which



cI R

cI

is positive - cE dFE +

iff

R 0

cI

cI -

-

cI R

cE

dFE

R dFE > 0.

-

1 cI

cI

dFE

-

R 0

R

dFE

-

But the expression on

the left-hand side is zero at cI R, and its derivative with

respect to cI is (1 - )FE(cI). This implies that, if  < 1, then

D(cI) > 0 for all R < cI  E, and if  > 1, then D(cI) < 0

for all R < cI  E.

If E < cI < c^, then

D (cI )

cI
max cI +  cI - E - cI - max[cE, R] dFE , R
0

cI

1

-

max[cE, R] dFE + cI dFE ,

0

cI

which is positive if and only if

cI

1

R

cI - cE dFE - cI dFE - R dFE +  cI - E

R

cI

0

cI

R

- cI - cE dFE - cI - R dFE > 0.

R

0

Now, the left-hand side is strictly increasing in cI be-

cause

 cI

LHS

FE(cI) + (1 - FE(cI)) > 0. Furthermore, the

difference is negative and positive at cI R and cI 1, re-

spectively: D(R)

(R - E) < 0 and D(1)

1-

1 R

cE

dFE

-

R 0

R

dFE

+



1 - E -

1 R

1

-

cE

dFE

-

R 0

1

-

R

dFE

1-

1 0

max

[cE , R] dFE

+

1 0

max[cE,

R]

-

cE

dFE

>

0.

Therefore,

by

the

IVT,

there exists a unique c~1  (r,1) such that D(cI)<0 for all cI 

(R,c~1) and D(cI)>0 for all cI  (c~1,1). However, the interval in

question here is (E,c^), so we redefine the threshold as c 

max[E , min[c^, c~1 ]]. Finally, if c^  cI  1, then the incumbent wins the first-

stage auction, and the difference in payoffs between the

uncertain- and full-information cases is

D (cI )

R

cI

(1 + ) E -

R dFE + cE dFE

0

R

1
+ cI dFE
cI

1
+  cE - cI dFE.
cI

Similarly, as earlier, we invoke the IVT to prove the unique

existence of a root. We have D(cI) -(1 + 2)(1- FE(cI)) < 0,

D(E)

(1 + )

E R

E

E dFE > 0, and D(1)

(1 + )

R 0

cE

-

R

dFE

<

0.

- cE dFE + (1 + ) E Therefore,

R 0

E

-

-

1 R

cE

by the

R dFE dFE - IVT,

+
R 0

 R

1 E

cE

dFE

-

there exists

a unique c~2  (E, 1) such that D(cI) > 0 for all cI  (E, c~2)

and D(cI) < 0 for all cI  (c~2, 1). However, the interval in

question here is [c^, 1], so we bound the threshold as

c  max[c^, c~2]. Putting together all the sets for which D > 0

yields the result. 

A.4. Proof of Proposition 4
The entrant overbids iff E > 0; that is, the entrant earns a higher stage 2 profit if the publisher learns its CTR. It suffices to show that the entrant's stage 2 profit is convex in its true CTR, for then Jensen's inequality would imply the desired result. To that end, consider the entrant's stage 2 profit when the publisher assigns it its true CTR:

E2(cE) where

vE
UE(xE|cE) dGE
0

vE
cE

xE qE2(tE)gE(tE) dtE dGE

0

0

vE cEqE2(tE)(1 - GE(tE)) dGE(tE)
0

vE vI
RE2 0 cEI{cE > (xI,xE|cI)}(1 - GE(xE))dGI dGE,

RE2

inf

b0:b

-

1

- GE(b) gE(b)



0

;

I{%} is the indicator function, which is equal to one if % is true and zero otherwise; and

(xI, xE|cI)

cI

xI

-

1 - GI(xI) gI (xI )

xE

-

1 - GE(xE) gE(xE1)

.

604

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Because  is independent of cE, we obtain that, for any given xI and xE, cEI{cE > (xI,xE|cI)} is convex in cE. And, because any linear combination with positive weights of convex functions is also convex, we conclude that E2(cE) is convex in cE. Next, we turn to the incumbent. We work with the fol-
lowing subgradient argument:

Claim 3. Let E[X] . If a function f (x) that is differentia-

ble at x  satisfies f (x)  f ()(x - ) + f ()  f (x) for all x,

then E[f (X)]  f (E[X]).

This follows immediately from E[f (X)]  E[f ()(X - ) +

f ()] f ()E[X - ] + f () f ().

The incumbent's stage 2 profit when the publisher assigns

cE is I2(cE)

vI 0

UI

(xI

|cE,

cI

)

dGI

vI 0

cI

xI 0

qI2(tI

)gI

(tI

)

dtI

dGI

vI 0

cI qI2 (xI )(1

-

GI(xI)) dGI,

which

simplifies

to

 

vI cI(1 - GI(xI))z
RI2

cI I (xI ) cE

dGI

h-I 1 RI2

cE vE cI

cI(1 - GI(xI1))z

cI I (xI ) cE

+

vI

h-I 1

cE vE cI

cI(1 - GI(xI)) dGI

dGI

if

cI vI vE

< cE,

otherwise,

where z(y)

GE -E1(y) , and j(x)

x

-

1-Gj (x) gj (x)

for

j



{I, E}.

Suppose

cI

<

vE E vI

such

that

I2(E)

vI RI2

cI (1

-

GI (xI ))

·

z

cI I (xI ) E

dGI and I2(E)

vI RI2

cI

(1

-

GI

(xI

))z

cI I (xI ) E

- cII (xI )
2E

·

dGI. By claim 3, it suffices to show that

I2(cE)  I2(E)(cE - E) + I2(E) for all cE.

(A.4)

Note that z(·)  1, which implies that

vI

hI

cE vE cI

cI(1 - GI(xI)) dGI



vI

h-I 1

cE vE cI

cI(1 - GI(xI))z

cI I (xI ) cE

dGI

for all cE. Therefore, a sufficient condition for (A.4) is that, for all cE,

vI
(1 - GI(xI))z
RI2

cI I (xI ) cE

dGI



vI
(1 - GI(xI)) z
RI2

cI I (xI ) E

-

cI

I (xI 2E

)

·

cE

- E) + z

cI I (xI ) E

dGI .

(A.5)

Finally, z cII (xI )
cE

a sufficient condition for (A.5) is dGI be convex in cE for all cE.

that The

vI RI2

(1

-

GI

(xI

))

·

convexity con-

dition simplifies to

vI
(1 - GI(xI))z
RI2

cI I (xI ) cE

dGI  0 for all cE.

(A.6)

Note

that

z cII (xI )
cE

P{cEE(xE)  cII(xI)}, which is the

probability that the entrant's valuation draw is such that the

incumbent wins in stage 2. This probability can be easily

verified to be decreasing in cE. Now, condition (A.6) can be interpreted as this probability being "sufficiently convex"
for all xI. This is equivalent to the condition that the rate of decline of the incumbent's winning probability in cE be sufficiently low.
Finally, the sufficient condition for overbidding around
the neighborhood of cI 1 follows immediately from claim 3 and the continuity of I2(cE) with respect to cI:

I2(cE)  I2(E)(cE - E) + I2(E).

(A.7)

This means that the incumbent's stage 2 profit when cE turns
out to be high is considerably low; that is, the risk of revealing the entrant's CTR is high.36 

A.5. Proof of Proposition 5

Let RFE be the entrant's reserve price under full information. RFE satisfies

RFE

-

1

- GE(RFE) gE(RFE)

0.

(A.8)

When the publisher does not know the entrant's CTR, the

optimal reserve price RE satisfies RE -

1 - GE

RE

-

E E

/

gE(RE

-

E E

)

 E

(I

-

P).

Now

Assumption

1

implies

that,

for

all

R,

R-

1 - GE

R

-

E E

/

gE

(R

-

E E

)

<

R

-

(1

-

GE

(R))/

gE(R). Therefore, the condition RE < RFE is equivalent to

 E

(I

-

P)

<

RFE

-

1

- GE RFE gE(RFE -

-

E E

E E

)

.

(A.9)

Using (A.8), the right-hand side simplifies to 1 - GE(RFE) /

gE(RFE) -

1 - GE

RFE

-

E E

/gE(RFE

-

E E

),

which

is

negative

by Assumption 1. Labeling this negative object as -

simplifies (A.9) to P > I + E. 

A.6. Proof of Proposition 6

The bE >

entrant's payoff is max[bI, R], and (a~E -

a~E - max[bI, R] + aI)+ otherwise. The



1 aI

aE

-

entrant's

aI dF~ if weakly

dominant bid is bE a~E +  01(aE - aI)+ dF~ - (a~E - aI)+). Because (aE - aI)+ is convex in aE, Jensen's inequality implies

that

1 0

(aE

-

aI )+

dF~

-

(a~E

-

aI )+



0;

therefore,

the

entrant

bids

above its average stage 1 per-impression valuation, a~E. Fi-

nally, consider the incumbent's payoff:



aI - bE 0+

+ (aI
1
(aI -

- a~E)+ max[aE,

R])+dF~

if bI  max[bE, R], if bI < max[bE, R],

I



0

+

0
(aI

-

a~E)+

bE  R, if bI < max[bE, R],
bE < R.

(A.10)

Following the reasoning from the proof of Lemma 2 in

Section OA2.2, we obtain that the incumbent's weakly

RddF~o]))m+. FdiniF~rasnt,tanIbo; itdtehtaihstabitsI,,iftahaIIe+ina~Ec((,uatmIh-ebnea~Enb)It+-unaId0-1e(rabI i-d01sm(afIao-xr[malEoa,wRx[]a)aE+I,.

cS0re1ec(aaoIsn-indmg, acinox[naasIEi,idnRe]rt)h+aidsI F>~r)e)a~gEi.o1nW+bee(ch1aau-vseFe~ (tahbaIII)a)t>b0aII.

is (aI

strictly in+ (aI- a~E -

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Finally, bI > aI at aI

1

because

1 

(bI

-

aI )

is

equal

to

(1 -

a~E) -

1 0

(1

-

max[aE,

R])+

dF~

1 - a~E -

R 0

1

-

R

dF~

-

1 R

1

-

aE

dF~

1-

R 0

1

+

aE

-

R

dF~

+

(1-

F~ (R))

F~ (R) -

R 0

1

+

aE

-

R

dF~



F~ (R)

-

(1+R-R)F~ (R) 0. In sum, bI is less than aI at aI a~E, greater

than aI at aI 1, and strictly increasing in aI. Therefore, by the

IVT, there exists a unique root a~  (a~E,1) such that bI <aI for all aI <a~ and bI >aI for all aI >a~.

A.7. Proof of Proposition 7

The entrant's stage 1 payoff is E

1

-

max[c~I bI,R] E

+

1 R

1 cI

cE

-

cI dFE) dFI if EbE > c~IbI and  R1(E - cI)+ dFI otherwise,

where c~I  FI. Even if the entrant does not know the real-

ization of c~I, its weakly dominant bid is bE 1 +

1 E R

01(cE - cI)+ dFE - (E - cI)+ dFI. And, because (cE - cI)+

is convex in cE for all realizations of cI, Jensen's inequality

implies that 01(cE - cI)+ dFE - (E - cI)+  0 for all cI. Hence, bE  1; that is, the entrant overbids.

A.8. Proof of Proposition 8

Following the argument in the main model, whether the

incumbent bids below or above valuation depends on

the sign of

x- (cI - max[x, R])+-

1 0

(cI

-

max[cE,

R])+

dFx)

dP(x). But we have shown in the main model that, for

any distribution Fx of cE, there exists a pair of thresholds (c~1(x), c~2(x)) such that the incumbent underbids for all cI < c~1(x) and overbids for all cI > c~2(x) (see proof of
Proposition 2 in Section A.2). It follows that the preced-

ing integral is negative for all cI < c  infx- c~1(x) and positive for all cI > c  supx- c~2(x). This completes the proof. 

A.9. Proof of Proposition 9

From

(OA1),

the

entrant's

payoff

is

E

1

-

max[cI bI1,R] E

+



1 cI

cE

1

-

cI cE

dFE + 

if

bE1

>

max[cI bI1,R] E

and

E

1

-

cI E

+

otherwise. Thus, a weakly dominant stage 1 bid is bE1()

1

+

 E

1 cI

cE

-

cI

dFE

-

E - cI

+

+

 E

.



A.10. Proof of Proposition 10
First, we establish that, from the publisher's profit perspective, offering ad credit  is equivalent to artificially increasing the entrant's effective bid by .
Consider the latter mechanism. The stage 2 outcomes are identical for both cases. In stage 1, the advertisers' weakly dominants can be easily verified to be the same as the main model; that is, the entrant bids bE1 as in (2) and the incumbent bids bI1 as in (1). Note that this implies that the effective bids are the same as the former mechanism in which the publisher gives free ad credit  if the entrant wins. To see this, under the former mechanism, the entrant's effective bid is EbE1() as in (7). But from (7), we have EbE1() EbE1 + , which is equivalent to the entrant's effective bid under the artificial additive boosting mechanism. The incumbent's
effective bids are trivially the same. Therefore, the mech-
anisms have the same allocation rule.
Moreover, the payoffs of the two mechanisms are identical. If the incumbent wins in stage 1, the publisher's stage 1 profit is EbE1 +  in both cases, and if the entrant wins, it is

605

max[cIbI1] -  in both cases. In sum, the two mechanisms yield the same profit for the publisher.

Now, consider the boosting multiplier . For any given

additive term , if the advertisers' effective

publisher sets () bids are the same as

1 in

+

, 
E bE1

then

the

the mechanism

wherein the publisher adds  to the entrant's effective bid.

Therefore, the two mechanisms have the same allocation rule.

Furthermore, note that the advertisers' bids are the same for both mechanisms: the incumbent (entrant) bids bI1 (bE1). This means that both mechanisms can be cast as a "direct

mechanism" in which advertisers bid their true "type."

Therefore, by the revenue equivalence principle (Myerson

1981), the two mechanisms yield the same expected profit

up to a constant. 

A.11. Proof of Proposition 11 From the derivation of the LREF stage 1 bids (see Section OA3 of the online appendix), we see that an important condition that shapes the outcome of the auction is

 E[lE] - E[0i ] - E[li]  (ci - E).

(A.11)

We can write this condition in terms of the reserve price R.

First, (cI -

note ci) dFE

that E[lE] is independent

cI
coi f

(cE - ci R, and

)

dFE

+

cI ci

(cE

-

cI )

+

1
E[0i ] - E[li] cI - E - (ci - max[cE, R])+ dFE
0

R

1

R - cE dFE - cE - ci dFE.

0

ci

(A.12)

Second, because (A.12) is strictly increasing in R, we obtain that (A.11) is equivalent to R  R^ , where R^ solves

 E[lE] - E[0i ] - E[li] (ci - E).

Suppose E  ci < cI. Following the derivation of LREF bids in Section OA3.2, if R > R^ , then the LREF equilibrium is

bb[IEi ,((Ii,f))eR]a<1bnRE^-d(,0tt)hh+feeonrecnaitEhltblreEa(Ln>tR)0;bE.tiFFhdoeserrqbetuEfho(ielriw)eb,reibaui1k(m+i)ni>scuEb[IimE(, 0[Eb),e.lEin]].ta,TnwhdeebroEeb(ftoa)rien,

1

-



+

 E

max[ci

bi

(),

R]

and

bi

()

1

+

 ci

E[0i ]- E[li]))+.

To determine whether the advertisers bid below or above

their learning-free benchmarks, we need to determine the

sign

of

E[0i

]

-

E[li

].

Because

(i)

(A.12) R

>

0,

(ii)

(A.12)

-

1 ci

cE

-

ci dFE <0 at R 0, and (iii) (A.12) ci - E >0 at R ci, there

exists a unique R~  (0,ci) such that E[0i ] - E[li]<0 for all

R<R~ and E[0i ] - E[li]>0 for all R>R~ . Thus, R<R~  bE() 

bE(0) and bi ()  bi (0) for all >0 and R>R~  E[0i ] - E[li]>0

so that bE()  bE(0) and bi ()  bi (0) for all >0.

Suppose ci < E  cI. The LREF equilibrium is [I, E, i]. The

EF conditions for the strong incumbent and the entrant are

cI(1 - max[EbE, R]/cI) + E[li]  cI(1 - max[cibi, R]/cI) +

E[li]  EbE  (1 - )cI +  max[cibi, R] and E(1 -

max[EbE, R]/E) + E[lE]  E(1 - max[cibi, R]/E) +

E[lE]  EbE  (1 - )E +  max[cibi, R]. Therefore,

the entrant's LREF bid is bE()

1

-



+

 E

max[cibi ,

R].

The EF conditions for the weak incumbent and the entrant are

ci(1 - max[cibi, R]/ci) + E[0i ]  E[li]  ci - E[li]   max[cibi, R] and E(1 - max[cibi, R]/E) + E[lE]  E[0E]   max[cibi, R]  E + (E[lE] - E[0E]).

606

Because the LREF bid binds at the lower bound, we have

max[cibi , R]

ci

-

 

E[li].

Thus,

R

<

ci

-

 

E[li]



bi ()

1

-

 ci

E[li]

and

bE()

1

-



+

 E

ci

-

 

E[li]

such that

bE()  bE(0) and bi ()  bi (0) for all  > 0.

On

the

other

hand,

if

R



ci

-

 

E[li],

then

the

lowest

bid

bi

that

satisfies

the

EF

condition,

ci

-

 

E[li

]



max[cibi, R]



E

+

 

(E[lE]

-

E[0E]),

is

bi

0. In this case, the LREF bids

are bE()

1

-



+

 E

R

and

bI ()

0 such that the bids are

the same across environments with and without learning.

For this to hold for all  > 0, we must have R  ci. Taken together, we can define the threshold for the re-

serve price R above which the stated result holds: R equals min R^ , R~ + if E  ci and equals ci otherwise. 

Endnotes
1 See https://content-na1.emarketer.com/us-ad-spending, accessed February 2018. 2 For instance, in pay-per-click pricing, Google assigns an average quality score to new advertisers based on the performances of other advertisers using the same keyword. See https://searchengineland .com/didnt-know-recent-quality-score-changes-259559, accessed February 2018. 3 In practice, effective bids can also include other factors, such as landing page experience and advertiser's reputation; however, for the purpose of this example, we only consider the expected CTR and the submitted bid that are the two most important elements of effective bids. 4 See http://totalaccess.emarketer.com/chart.aspx?r=219092, accessed February 2018. 5 See https://searchengineland.com/4-ways-to-determine-your-your -starting-bids-144616, accessed February 2018. 6 See https://www.google.com/ads/adwords-coupon.html, accessed February 2018. 7 See http://www.digitalsitemap.com/free-facebook-ad-coupon/, accessed February 2018. 8 In fact, because new advertisers constantly join this market and even existing advertisers frequently revamp their campaigns, change their ad copies and landing pages, or change their ad agencies altogether, one could argue that this market is always in transition. 9 We consider a multiple-slot generalized second-price auction in Section 5. 10 See http://totalaccess.emarketer.com/chart.aspx?r=219092, accessed February 2018. 11 Pay-per-click pricing is the most common form of performancebased pricing; nonetheless, our results can be readily applied to other performance-based pricing models, such as pay-per-conversion. 12 For example, see https://www.facebook.com/business/help/ 430291176997542 and https://searchengineland.com/guide/ppc/how -the-ppc-ad-auction-works, accessed February 2018. 13 For a discussion of other parameters in advertisers' effective bids in search advertising; see Katona and Zhu (2017). 14 Note that this model implies two important assumptions on the information structure of the game. First, the assumption that cI is common knowledge implies that the entrant and the publisher have the same level of information about the incumbent. Second, we are implicitly assuming that the incumbent and the publisher have the same level of information about the entrant. In practice, it is possible that large publishers, such as Google and Facebook, can estimate advertisers' CTRs more accurately than other advertisers based on their vast troves of data. We relax both of these assumptions in Section 5.2 and establish the robustness of our results.

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

15 See https://support.google.com/google-ads/answer/1659696, accessed

February 2018.

16 In Google AdWords, new advertisers received an average quality

score of six. See https://searchengineland.com/minimum-quality

-score-can-save-money-adwords-226757, accessed February 2018.

In Section 5.3.2, we consider an extension in which, instead of using

E, the publisher strategically sets the entrant's CTR. 17 If the entrant wins the auction in stage 1, the publisher learns cE; however, we do not make any assumptions on whether the incumbent

also learns cE or not. Specifically, as we show in Lemma 1, the incumbent bids truthfully in stage 2 regardless of the outcome of stage 1.

18 One might argue that the publisher eventually learns the entrant's

CTR even if the entrant does not win in stage 1. For instance, its CTR

may be learned if the entrant's ad is displayed on the second page of

the search results for a sufficiently long period of time. In this case, we

could assume that the game has a stage 3 in which, regardless of the

outcomes of stages 1 and 2, cE becomes learned by the publisher. It is easy to show that both advertisers bid truthfully in stage 3 and that

the existence of stage 3 does not affect the advertisers' strategies in

stages 1 and 2. In this model,  could be interpreted as the length of

time required for the publisher to learn the entrant's CTR if the entrant

does not win in stage 1 (compared with when it wins in stage 1).

19 This is not a restrictive assumption; for example, for FE(c) c, the

condition holds for all  > 0 and cI  R. The sufficient condition

derives from the fact that cI +  (cI - E)+ -

1 0

(cI

-

max[cE,

R])+

dFE

is equal to R at cI R and then imposing that the former increases in cI.

20 To be more precise, the common knowledge that the publisher does

not know the entrant's CTR may increase its revenue.

21 To characterize the optimal mechanism, we have to assume sto-

chastic private valuations for the advertisers; otherwise, the pub-

lisher's optimal strategy is to set the reserve price of stage 2 to one,

leaving no surplus for the advertisers. Stochastic private valuation is a

standard assumption in mechanism design literature; for example,

see Myerson (1981) for a general setting and Edelman and Schwarz

(2010) for the context of online advertising.

22 Assumption 1 greatly facilitates the derivation of the optimal mechanism. A large class of distributions satisfies this property; for

example, exponential, Weibull, modified extreme value, gamma (with

parameters  > 1,  > 0), and truncated normal (with "commonly ac-

cepted [parameters]"). See Barlow and Proschan (1965) and Brusset

(2009) for details.

23 The publisher's optimal mechanism is not unique. In this paper, we

choose the mechanism that is consistent with the literature in the

sense that the publisher's optimal virtual bid transformation in a learning

environment converges to the optimal virtual bid transformation in

Myerson (1981) as the publisher's learning incentive goes to zero.

24 We are slightly abusing notation: "cE in stage 2 is c~E, which is cE if cE is learned and E otherwise.
25 To see that P is positive, it suffices to show that P2(cE) max I2(xI2|cI), E2(xE2|cE) + dG is convex in cE. The integrand is
convex in cE because it is the maximum of I2(xI2|cI)+, which is independent of cE, and E2(xE2|cE), which is a linear function of cE. And,
because any linear combination with positive weights of convex of

functions is also convex, we conclude P2(cE) is convex in cE. 26 It can be easily verified that the stage 1 virtual bids in (5) reduce to

the standard format (Myerson 1981) when the learning dynamics are

muted (e.g.,  0).

27 This contrasts with rankings based on effective bids in CPC auctions,

in which publishers multiply the advertiser's bid with its quality score.

28 For our analysis, we only need the incumbent's WTP to be common

knowledge; this is a standard assumption in papers with a full-

information setting in online advertising (e.g., Edelman et al. 2007).

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

29 Note that the entrant's bidding strategy from the main model is

unchanged because it is independent of the incumbent's information

structure--it depends primarily on the publisher's information structure.

30 https://www.google.com/ads/adwords-coupon.html, accessed

February 2018.

31 We assume  is set before cI is realized because publishers use the same amount of ad credit across many keywords for which in-

cumbents have different CTRs. That is, in practice,  is not a function

of cI. In addition, note that, if  is decided after cI is realized, the truthfulness nature of these second-price auctions breaks down. This

is because the incumbent would anticipate the publisher to set  high

enough to extract all surplus from the incumbent's bid, creating

incentives for the incumbent to shade its bid. Finally, the assumption

that the ad credit is only available in stage 1 reflects the fact that these

promotions typically expire after a short period of time.

32 Note that we are not discussing the customer acquisition effect of

offering free ad credit. Promotional incentives for attracting new

customers have been extensively studied in the literature (e.g., Jedidi

et al. 1999, Nijs et al. 2001, and van Heerde et al. 2003). Instead, we

focus on the extraction and learning effects of ad credit that are new to

the literature. We show that, even if the free ad credit does not attract

new advertisers, the publisher may still benefit from offering it be-

cause of these two positive effects.

33 This could be justified by the fact that advertisers can estimate the

effective bid of the advertisers below them by observing the amount

they are charged.

34 The normalization can also be interpreted as assuming that the CTR

of the average entrant does not exceed that of the strong incumbent.

This assumption simplifies expressions but is not necessary. The

analysis without this assumption is provided in the appendix.

35 We evaluate at the right-limit 0+ because g (cI) is undefined at cI 0.

36 Numerical analyses suggest that conditions (A.6) and (A.7) are

satisfied for a large class of valuation distributions Gj. For instance, if

GE(xE) xE, condition (A.6) holds for any GI, and condition (A.7) holds

for GI that is relatively skewed to the left; that is, the incumbent is

"strong" in the sense that it is likely to have high valuation (see Figure 4).

This includes the "power distributions" GI(xI)

xI vI

3

for all vI

 3/2.

References

Amaldoss W, Desai PS, Shin W (2015a) Keyword search advertising and first-page bid estimates: A strategic analysis. Management Sci. 61(3):507­519.
Amaldoss W, Jerath K, Sayedi A (2015b) Keyword management costs and "broad match" in sponsored search advertising. Marketing Sci. 35(2):259­274.
Balseiro SR, Gur Y (2017) Learning in repeated auctions with budgets: Regret minimization and equilibrium. Working paper, Columbia University, New York.
Balseiro SR, Besbes O, Weintraub GY (2015) Repeated auctions with budgets in ad exchanges: Approximations and design. Management Sci. 61(4):864­884.
Barlow RE, Proschan F (1965) Mathematical Theory of Reliability (John Wiley & Sons, New York).
Berman R (2018) Beyond the last touch: Attribution in online advertising. Marketing Sci. 37(5):771­792.
Berman R, Katona Z (2013) The role of search engine optimization in search marketing. Marketing Sci. 32(4):644­651.
Bruce NI, Murthi BPS, Rao RC (2017) A dynamic model for digital advertising: The effects of creative format, message content, and targeting on engagement. J. Marketing Res. 54(2):202­218.
Brusset X (2009). Properties of distributions with increasing failure rate. Working paper, ESSCA, Angers, France.
Cao X, Ke TT (2018) Cooperative search advertising. Marketing Sci. 38(1):44­67.

607
Desai PS, Shin W, Staelin R (2014) The company that you keep: When to buy a competitor's keyword. Marketing Sci. 33(4):485­508.
Edelman B, Schwarz M (2010) Optimal auction design and equilibrium selection in sponsored search auctions. Amer. Econom. Rev. 100(2):597­602.
Edelman B, Ostrovsky M, Schwarz M (2007) Internet advertising and the generalized second-price auction: Selling billions of dollars worth of keywords. Amer. Econom. Rev. 97(1):242­259.
Gittins JC, Jones DM (1979) A dynamic allocation index for the discounted multiarmed bandit problem. Biometrika Trust 66(3):561­565.
Haruvy E, Jap S (2018) The long run impact of organic search on paid search performance. Working paper, University of Texas at Dallas, Richardson.
Hoban PR, Bucklin RE (2015) Effects of internet display advertising in the purchase funnel: Model-based insights from a randomized field experiment. J. Marketing Res. 52(3):375­393.
Hu YJ, Shin J, Tang Z (2016) Incentive problems in performancebased online advertising pricing: Cost per click vs. cost per action. Management Sci. 62(7):2022­2038.
Hummel P, McAfee RP (2016) Machine learning in an auction environment. J. Machine Learn. Res. 17(197):1­37.
Iyer K, Johari R, Sundararajan M (2014) Mean field equilibria of dynamic auctions with learning. Management Sci. 60(12):2949­2970.
Jedidi K, Mela CF, Gupta S (1999) Managing advertising and promotion for long-run profitability. Marketing Sci. 18(1):1­22.
Jerath K, Ma L, Park Y-H, Srinivasan K (2011) A "position paradox" in sponsored search auctions. Marketing Sci. 30(4):612­627.
Jiang B, Jerath K, Srinivasan K (2011) Firm strategies in the "mid tail" of platform-based retailing. Marketing Sci. 30(5):757­775.
Katehakis MN, Veinott AF (1987) The multi-armed bandit problem: Decomposition and computation. Math. Oper. Res. 12(2): 262­268.
Katona Z, Sarvary M (2010) The race for sponsored links: Bidding patterns for search advertising. Marketing Sci. 29(2):199­215.
Katona Z, Zhu Y (2017). Quality score that makes you invest. Working paper, University of California, Berkeley, Berkeley.
Krishna V (2010) Auction Theory, 2nd ed. (Academic Press, San Diego, CA).
Kuksov D, Prasad A, Zia M (2017) In-store advertising by competitors. Marketing Sci. 36(3):402­425.
Lambrecht A, Tucker C (2013) When does retargeting work? Information specificity in online advertising. J. Marketing Res. 50(5): 561­576.
Li S-M, Mahdian M, McAfee RP (2010). Value of learning in sponsored search auctions. Amin S, ed. Internat. Workshop Internet Network Econom. (WINE 2010), Lecture Notes in Computer Science, vol. 6484 (Springer, Berlin, Heidelberg), 294­305.
Lu S, Zhu Y, Dukes A (2015) Position auctions with budget constraints: Implications for advertisers and publishers. Marketing Sci. 34(6):897­905.
Myerson RB (1981) Optimal auction design. Math. Oper. Res. 6(1): 58­73.
Nijs VR, Dekimpe MG, Steenkamps J-BE, Hanssens DM (2001) The category-demand effects of price promotions. Marketing Sci. 20(1):1­22.
Ostrovsky M, Schwarz M (2016). Reserve prices in internet advertising auctions: A field experiment. Working paper, Stanford University, Stanford, CA.
Rutz OJ, Bucklin RE (2011) From generic to branded: A model of spillover in paid search advertising. J. Marketing Res. 48(1):87­102.
Sayedi A (2018) Real-time bidding in online display advertising. Marketing Sci. 37(4):553­568.
Sayedi A, Jerath K, Baghaie M (2018) Exclusive placement in online advertising. Marketing Sci. 37(6):970­986.

608

Choi and Sayedi: Learning in Online Advertising Marketing Science, 2019, vol. 38, no. 4, pp. 584­608, © 2019 INFORMS

Sayedi A, Jerath K, Srinivasan K (2014) Competitive poaching in sponsored search advertising and its strategic impact on traditional advertising. Marketing Sci. 33(4):586­608.
Shin W (2015) Keyword search advertising and limited budgets. Marketing Sci. 34(6):882­896.
van Heerde HJ, Gupta S, Wittink DR (2003) Is 75% of the sales promotion bump due to brand switching? No, only 33% is. J. Marketing Res. 40(4):481­491.

Wilbur KC, Zhu Y (2009) Click fraud. Marketing Sci. 28(2):293­308. Yao S, Mela CF (2011) A dynamic model of sponsored search ad-
vertising. Marketing Sci. 30(3):447­468. Zhu Y, Wilbur KC (2011) Hybrid advertising auctions. Marketing Sci.
30(2):249­273. Zia M, Rao RC (2017). Search advertising: Budget allocation across
search engines. Working paper, Chapman University, Orange, CA.

