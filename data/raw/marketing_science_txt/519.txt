CELEBRATING 30 YEARS
Vol. 30, No. 3, May­June 2011, pp. 481­490 issn 0732-2399 eissn 1526-548X 11 3003 0481

doi 10.1287/mksc.1110.0636 © 2011 INFORMS

Multiple-Constraint Choice Models with Corner and Interior Solutions

Takuya Satomura
Faculty of Business and Commerce, Keio University, Tokyo 108-8345, Japan, satomura@fbc.keio.ac.jp
Jaehwan Kim
Korea University Business School, Korea University, Seoul 136-701, Korea, jbayes@korea.ac.kr
Greg M. Allenby
Fisher College of Business, Ohio State University, Columbus, Ohio 43210, allenby.1@osu.edu
Achoice model based on direct utility maximization subject to an arbitrary number of constraints is developed and applied to conjoint data. The model can accommodate both corner and interior solutions, and it provides insights into the proportion of respondents bound by each constraint. Application to volumetric choice data reveals that the majority of respondents make choices consistent with price and quantity restrictions. Estimates based on a single monetary-constraint choice model are shown to lead to biased estimates of the monetary value of attribute levels.
Key words: multiple constraints; choice model; corner and interior solutions; quantity restriction History: Received: May 10, 2009; accepted: November 20, 2010; Eric Bradlow served as the editor-in-chief and
Bart Bronnenberg served as associate editor for this article. Published online in Articles in Advance April 7, 2011.

1. Introduction
Economic models of choice typically assume consumers maximize utility subject to a budget constraint. What if, however, consumers are bound by multiple constraints? Examples include constraints on the maximum weight of packages, constraints on the size or volume of the product selected, and constraints on search time used to find a good deal. If a consumer makes purchases subject to multiple constraints, models that only include a monetary budget constraint will misrepresent their behavior.
Consider, for example, consumers who are priceand quantity-constrained. These individuals respond to price changes for smaller package sizes but not for larger package sizes because of space constraints at their homes (see Bell and Hilber 2006, Hendel and Nevo 2006). The lack of response to deals for larger packaged offerings would translate into smaller estimated price coefficients, or larger error terms, in standard models of choice. When quantity or weight constraints are present, consumers may opt to purchase multiple units of smaller package sizes rather than larger packages, even when the per-unit price of the larger package size is smaller. This behavior-- selective response to variables such a prices--can be used to identify the presence of multiple binding constraints.

In this paper we develop economic choice models with multiple binding constraints and contrast them to existing models. Thus, the nature of our intended contribution is methodological. We apply our models to volumetric conjoint data from a national study with the goal of determining packaging characteristics that maximize the quantity purchased. Our analysis indicates that the presence of multiple binding constraints biases estimates of the monetary value of attribute levels if the model is estimated based on the assumption of a single constraint only. We also find the multiple-constraint model leads to better insample and predictive fits to the data.
Models with multiple constraints have previously appeared in the literature, particularly in the context of travel demand and labor economics where consumers maximize utility subject to budget and time constraints. Two approaches have been proposed for analyzing these models. The first is based on the use of a "full price" variable obtained from substituting the time constraint into the budget constraint (with an associated value-of-time coefficient) and including the full price variable as a covariate in the specification. Becker (1965) used this approach to acknowledge the relationship between time and money to explain how people allocate time, and Bockstael et al. (1987) employed a similar substitution in their analysis of

481

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

482

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

recreational demand. Kockelman and Krishnamurthy (2004) also applied this approach to the analysis of weekly travel demand. Hanemann (2006) offered a generalized version of this "collapsing" approach for an arbitrary number of constraints. The collapsing approach implicitly assumes a constant rate of tradeoff among the constraints.
There are many situations where consumers face capacity constraints that are unlikely to change much and cannot be collapsed, either because the constraints are qualitatively distinct or because of fixed costs embedded in the conversion. For example, it is unlikely that consumers would bother to rent additional storage space to accommodate the purchase of large package sizes in many product categories. Moreover, we show below that the presence of multiple constraints can lead to interior solutions in models of near-perfect substitutes where indifference curves are linear (cf. Kim et al. 2002). Interior solutions cannot be explained by models with linear indifference curves with just one constraint. Thus, reducing the number of constraints and employing a full price variable is problematic when the constraints are not freely substitutable. Moreover, the use of latent consumption occasions to explain multiple brand purchases, sometimes referred to as "multiple discreteness" in the data (Dubé 2004), does not address the possibility of multiple constraints affecting consumer choices.
A second approach involves employing search procedures to identify the point of constrained utility maximization. The solution space associated with multiple constraints is partitioned into regions that are conditional on which of the constraints are binding, and one type of analysis proceeds by comparing solutions in each region to identify an overall maximum (see Hausman 1985, Moffitt 1986). More generally, Parizat and Shachar (2010) employed a simulated annealing algorithm over the entire solution space to identify a globally optimal point of utility maximization. The advantage of numerical solutions is that they do not require a continuous or differentiable solution space to identify the maximal point. The disadvantage is that statistical inference is hindered by relying on asymptotic approximations and by not having access to parameters such as shadow prices (i.e., Lagrangian multipliers) that come from employing first-order conditions. We develop our model in a Bayesian framework that provides exact small-sample inference, and we demonstrate inferences within and among constraints that are not available when one only knows the point at which utility is maximized, and not properties derived from first-order conditions.
The remainder of this paper is organized as follows: in §2 we develop a choice model based on multiple constraints and compare it to existing models of discrete choice and to models that allow for both interior and corner solutions. Statistical estimation of the

model is discussed in §3. The data are described in §4, and §5 presents the coefficient estimates from various models. Section 6 discusses implication of the model and examines predictions, and §7 contains concluding remarks.

2. Model Development
We develop a multiple-constraint choice model for an arbitrary utility function and two constraints. Extension to more than two constraints is straightforward. We begin with a utility function U x that is maximized subject to budget and quantity constraints:

max U x
N
s.t. pnxn + xz = M
n=1

N
qnxn + xw = Q
n=1

where U x is assumed to be a quasi-concave, nondecreasing, one-time differentiable function of the vector of quantity demanded, x. We assume that the utility function is weakly separable (see Deaton and Muellbauer 1980) for the goods within the product category, and we introduce outside goods xz and xw that proxy for other, noncategory uses of money and quantity (i.e., space). This allows us to consider M as the maximum monetary allocation for the category and Q as an upper limit for quantity. Here, pn is the price of item n and qn is the unit quantity of item n.
We introduce outside goods z and w with positive demand. That is, we assume that purchases made by consumers within a product category do not completely exhaust their budgetary allotment M nor their quantity allotment Q. There is always some residual budget and space available after a purchase, although the amounts may be small. The quantity demanded for z is xz, with a price of 1 and a unit quantity of 0. So, the outside good z works for only budget constraint. Similarly, the quantity demanded for w is zw with a price of 0 and a unit quantity of 1. So, the outside good w works for only quantity constraint.
We assume there are N items in a category, and R items are chosen. That is,

x1 x2

xR-1 xR > 0 xR+1 xR+2

xN -1 xN = 0

Finally, we define marginal utility as

Ux

Un x =

0 xn

Our approach to deriving the demand equations associated with multiple-constrained utility maximization is to derive the Kuhn­Tucker conditions by first forming the auxiliary equation that incorporates

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

483

the constraints through the use of Lagrangian multipliers ( ):

N
L = U x + M - pnxn - xz
n=1 N
+ Q - qnxn - xw
n=1

We assume the outside goods, z and w, have positive demand. Thus, the two constraints are always binding, so and are positive.
Kuhn­Tucker conditions are derived that associate first-order conditions with observed demand:

L xn = Un x - pn - qn  0 xn  0 and

L

xn

=0 xn

n=1 N

(1a)

L xz

= Uz

x

-

=0

L xw

= Uw

x

-

=0

(1b)

L = M - N pnxn -xz = 0
n=1

L = Q - N qnxn -xw = 0
n=1
(1c)

where, in Equation (1a), xn L/ xn = 0 is known as "complementary slackness," indicating that the constraint is binding whenever demand is nonzero. The expression for complementary slackness can be rewritten as follows:

xn

L =0 xn



L xn

=

Un

x

-

pn -

qn = 0

and xn > 0

(2a)

L xn = Un x - pn - qn < 0 and xn = 0 (2b)

Thus, from (2a) and (2b) we see that positive demand is associated with an equality constraint from the Kuhn­Tucker first-order conditions, whereas zero demand results in an inequality condition. Similar to models with one constraint, the equality constraint leads to a density contribution in the model likelihood, and the inequality condition leads to a mass contribution.

3. Statistical Specification
A challenge in estimating models with multiple constraints is the presence of a heterogeneous consumer response to the constraints. Some respondents are price sensitive, and others are not. Some are constrained by quantity, or time, or some other resource, and some respondents are bound by all the constraints under investigation. One aim of using models

with multiple constraints is to make inference about the number, or proportion, of respondents bound by each. We employ a flexible statistical specification that can produce either corner or interior solutions, and we allow for the possibility that consumers may not be bound by all of the constraints. Utility is expressed log-linearly:

N

U xkt =

knt log xknt + 1 + kz log xkzt

n=1

+ kw log xkwt

knt > 0 kz > 0

kw > 0 (3)

where k denotes the individual and t denotes the choice occasion. The "+1" in xknt + 1 allows for the possibility of corner solutions by translating the utility function so that indifference curves are not parallel to the axes. We assume that outside goods have positive demand and no corner solutions. The marginal utility associated with (3) is

Un xkt

=

U xkt xknt

=

knt

xknt + 1

Uz xkt =

U xkt xkzt

=

kz
xkzt

Uw xkt =

U xkt xkwt

= kw xkwt

(4a) (4b) (4c)

Thus, the utility function is approximately linear for
knt large and exhibits greater satiation for knt small. We define as follows:

log knt = kn + knt

D
kn =
d=1

kd and

log kz = kz

log kw = kw

(5a)
(5b) (5c)

where and is the dth attribute of item n, D is the number of attributes, knt is the Type I extreme value distribution with scale parameter k, and kd, kz, and kw are parameters. Thus, our utility specification relates product attributes to the baseline marginal
utility parameter , where more-positive values of
result in greater marginal utility. We emphasize, how-
ever, that the choice of utility function is arbitrary--
i.e., our method works for any valid utility function
that is quasi-concave, nondecreasing, and one-time
differentiable.
Substituting and from (1b) into (2a) and (2b),
we obtain

L xknt = Un xkt - Uz xkt pknt - Uw xkt qkn = 0
xknt > 0

and (6a)

484

L xknt = Un xkt - Uz xkt pknt - Uw xkt qkn < 0
xknt = 0

and (6b)

where the time subscript is removed from the quantity variable to reflect a constant quantity associated with a specific choice offering. We comment on the identification of Qk in this setting below. From (1c), we have

N
xkzt = Mk - pknt xknt
n=1
N
xkwt = Qk - qknxknt
n=1

(7a) (7b)

Taking logarithms of (6a) and (6b), we have

knt = gknt knt < gknt

and xknt > 0 and xknt = 0

where

D
gknt = - kdand +log xknt +1
d=1

+ log

Mk -

kz pknt

N n=1

pknt

xknt

+

Qk -

kw qkn

N n=1

qkn

xknt

(8)

Equation (8) comprises three terms. The first term is the deterministic portion of marginal utility that is also present in other models of demand, including the logit model. In the standard logit model with linear utility, this term is usually an intercept or a linear function of product attributes and their levels. The second term is the logarithmic function that induces diminishing marginal returns to the quantity demanded.
The last term in (8) is the contribution to utility from the outside goods that works uniquely for each of the constraints. As the budgetary allotment (Mk) or the quantity allotment (Qk) increases, the quantity of the corresponding outside good increases by (7a) and (7b), and marginal utility decreases. This diminishes the effect of the variables in the numerator of the expressions that alter the quantity of the outside good purchased. Alternatively, as the allotments decrease, the effects of the variables in the numerator increase. Thus, the allotments Mk and Qk act in a manner that is similar to a price coefficient and quantity coefficient in a standard model.
For large values of Mk and Qk, the budget and quantity constraints essentially become nonbinding as respondents are unresponsive to variations in prices and quantities. Thus, our model nests more restrictive specifications with fewer constraints. Moreover,

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

since Mk and Qk are estimated parameters, it is often not necessary to estimate the coefficients kz and kw because they are nearly not statistically identified,
especially when Mk and Qk are large. In the empirical analysis reported below, we set kz = kw = 1 0.
The assumption of extreme value errors results in a
closed-form expression for the probability that R of N
goods are chosen:

Pr xkt = Pr xk n1 t > 0 xk n2 t = 0 n1 = 1

R

n2 = R + 1

= JkRt

gkN t

gk R+1 t

···

f gk1t

-

-

gkRt

k R+1 t

kNt d k R+1 t

= JkRt

R exp -gkit/ k exp -e-gkit/ k

i=1

k

N

·

exp -e-gkjt/ k

j =R+1

N d kNt

= JkRt R exp -gkit/ k

i=1

k

N

· exp - exp -gkjt/ k

(9)

j =1

where f · is the joint density distribution for and JkRt is the Jacobian of the transformation from random-utility error ( ) to the likelihood of the observed data (x). For our model, the Jacobian is equal to

Jkijt =

gkit =

ij +

xkjt xkjt + 1

pkit pkjt /xk2zt + qkiqkj /xk2wt pkit/xkzt + qki/xkwt

(10)

where ij takes a value of 1 if i = j and 0 otherwise. Equations (8)­(10) are used to form the likelihood

for the data. Across choice occasions for a respondent,

the price of the choice alternatives changes, and Mk is statistically identified because its variation influ-

ences the impact of price changes on the choice prob-

abilities. The quantity variable qkn is not indexed by time and remains fixed across choice occasions when

the quantity associated with a specific offering does

not change over time. However, even in this case,

there is variation in the outside good for quantity

across the choices because of variation in xknt, and nonlinearities in the likelihood specification result in

identified quantity constraints, Qk. When only corner solutions are present in the respondent data, the like-

lihood is maximized when Qk is set slightly greater

than maxt

N n=1

qkn

xknt

.

The

likelihood

profile

for

Qk

becomes more regular, with a well-defined mode, as

the number of interior solutions increases.

In contrast to other models of multiple discrete-

ness, we do not associate the marginal utility of the

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

485

outside good with its own error term (cf. Kim et al. 2002, 2007; Bhat 2005). Instead, as shown below, we treat the unobserved constraints Mk and Qk as parameters to be estimated. Our utility specification is similar to von Haefen and Phaneuf (2003) and Bhat (2005, 2008). However, in these models, utility is assumed maximized subject to just one constraint, not multiple constraints.

More Than Two Constraints

Assume there are S constraints. We introduce outside

goods, xc0 c = 1 as follows:

S . The problem can be written

max U x

N

s.t. pcnxn + xc0 = Mc c = 1

S

n=1

where Mc is the cth constraint and pcn is the cth covariate (for example, price, quantity, etc.) for good n. We assume that outside good c has a coefficient of 1 in the cth constraint and 0 in other constraints. The remaining part of the formulation is the same as that of the two-constraint case. For example, the third expression in (8) would comprise S terms instead of two.

4. Empirical Application
Data are provided by a national beverage manufacturer wishing to understand the effects of packaging on demand using a conjoint study. Respondents were presented with choices between two product offerings of the same drink packaged in either bottles or cans, different container volumes (e.g., halfliter bottles), different package sizes (e.g., 12-packs) that bundle the containers, and different prices. The goal of the study is to identify the effects of package attributes and prices on volume demanded. A list of product attributes is provided in Table 1. There were 3,478 observations from 282 respondents available for analysis.

Table 2 Data Description
Number of respondents Number of respondents with interior solutions Number of one-alternative (corner) choices Number of two-alternative (interior) choices

282 136 (48.2%) 2,590 (74.5%) 888 (25.5%)

Respondents were asked to choose from between two product offerings and to indicate the expected monthly volume of the offering they expected to consume. Each respondent indicated their expected demand across 15 choice tasks involving combinations of eight different product configurations. Price was varied across all the choice scenarios so that none of the product descriptions appeared twice. In our analysis, information from the last-choice task was reserved for predictive testing, and we expressed the expected monthly volume in terms of 100 fluid ounces. We comment on the use of this unit of measurement further below.
The data comprise both corner and interior solutions, where corner solutions indicate that just one of the two offerings is selected. The distribution of corner and interior solutions is presented in Table 2, indicating that about half the respondents purchase multiple packages of the beverage at least once in their choice history.
A simple analysis of our data reveals that respondent demand is sensitive to price for smaller package sizes but not for large package sizes. A simple regression of demand on price (per ounce) reveals significantly negative coefficients for 4-pack and 6-pack offerings, but not for 12-pack offerings. The estimated regression lines, plotted in Figure 1, indicate support for the presence of a capacity constraint that reduces the attractiveness of purchasing large quantities of beverages for some respondents.

Figure 1 Price and Estimated Demand for Different Package Sizes

140

Table 1 Product Attributes

Attribute name/Level

a1

a2

a3

a4

a5

A. Type (a1)

A1. Plastic bottle

0

A2. Can

1

B. Container volume (a2, a3) B1. 12 oz B2. 1/2 liter B3. 24 oz

0

0

1

0

0

1

C. Package size (a4, a5) C1. 4-pack C2. 6-pack C3. 12-pack

0

0

1

0

0

1

Demand (oz)

120

100

80

60

4 pack

6 pack

40

12 pack

0.020

0.025

0.030

0.035

Price per oz

0.040

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

486

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

Our analysis involves the gains available from considering the presence of a quantity constraint in addition to a budget constraint. We constrained monetary (M) and quantity (Q) allocations as follows:

Mk > max pktxkt Qk > max qkxkt
We set kz = kw = 1 0 and k = 1 0 for identification. The likelihood for the data can then be expressed as

L=

Pr xkt

kt

Finally, all models are estimated with respondent heterogeneity specified by a multivariate normal distribution:

k = k log Mk log Qk  MVN ¯ V

Algorithms for model estimation are provided in the appendix. We used 40,000 iterations of the Markov chain to generate parameter estimates, with the first 20,000 iterations discarded as burn-in.

5. Results
The range of the data is from a minimum of 64 to a maximum of 1,728 ounces, with an average purchase volume of 208.4 ounces. Given the large numerical quantity of volume, we rescaled the demand data so that the offset value 1.0 produces indifference curves that are not nearly parallel to the axes at corner solution points. Thus the demand (x) is measured in hundreds of ounces, with the demand for two 6-packs of 24-ounce bottles is coded as x = 2 88 and q = 1 0. This rescaling was selected based on a grid search of

Table 3 Model Comparison

Log-marginal density

Model

In-sample

Predictive

Budget constraint Quantity constraint Multiple constraints

-7,913.73 -8,016.78 -7,703.95

-707.10 -733.93 -706.24

Table 5 Comparison of Estimated Parameters

Constraint

1

2

3

4

5 log(M) log(Q)

Budget

-0 39 -0 17 -0 14 0 19 0 27 2 27

constraint 0 04 0 04 0 05 0 04 0 06 0 04

Quantity

-0 23 -0 23 0 06 0 02 0 33

1 26

constraint 0 04 0 04 0 05 0 04 0 07

0 04

Multiple

-0 19 0 15 0 31 0 40 0 74 2 45 1 70

constraints 0 04 0 05 0 06 0 04 0 07 0 05 0 10

Note. The numbers within parentheses are the posterior standard deviations of random-effect parameters.

alternative units of measurement--e.g., ounces, tens of ounces, hundreds of ounces, etc.--that maximized the model fit to the data.
Table 3 presents in-sample and predicted model fits for different constraints--budget, quantity, and both. The top portion of the table corresponds to models involving one budget constraint, and the bottom portion of the table corresponds to a model with multiple constraints. The results indicate that the multiple-constraint model fits the data best.
Table 4 presents parameter estimates for the bestfitting model. The left side of the table reports the mean and standard deviation of the random-effect distribution for product attribute coefficients (see Table 1) and the capacity. The right side of the table reports the covariance/correlation matrix.
Table 5 presents parameter estimates for all models. The top portion of the table contains estimates for the budget constraint model; the middle portion, the quantity constraint model; and the bottom portion, the multiple-constraint model.
There is general agreement in estimates of type ( 1) and package size ( 4 and 5) for all models but disagreement in estimates of container volume ( 2 and 3). Thus, it appears that the absence of the capacity constraint biases estimates of attribute-level part-worths.

6. Discussion
Incorporating multiple constraints into models of choice affords inferences about their relative impor-

Table 4 Parameter Estimates: Multiple-Constraint Model

Covariance/correlation of random effects

Attribute

Parameter

Mean

1

2

3

4

5

log(M )

log(Q)

Can 1/2-liter 24-ounce 6-pack 12-pack Monetary budget Quantity budget

1
2
3
4
5
log(M ) log(Q)

-0 19 (0.04) 0 15 (0.05) 0 31 (0.06) 0 40 (0.04) 0 74 (0.07) 2 45 (0.05) 1 69 (0.10)

0 22 (0.03) 0 06 (0.03) 0 05 (0.03) 0 01 (0.02) 0 05 (0.04) -0 08 (0.03) -0 07 (0.04)

0 22 0 31 (0.04) 0 24 (0.04) 0 15 (0.03) 0 31 (0.05) -0 18 (0.03) -0 25 (0.04)

0 16 0 64 0 46 (0.06) 0 20 (0.03) 0 42 (0.06) -0 19 (0.04) -0 33 (0.06)

0 04 0 51 0 56 0 27 (0.03) 0 33 (0.05) -0 16 (0.03) -0 23 (0.04)

0 12 0 59 0 65 0 67 0 89 (0.12) -0 25 (0.05) -0 52 (0.08)

-0 25 -0 51 -0 43 -0 48 -0 42
0 41 (0.04) 0 14 (0.05)

-0 18 -0 55 -0 61 -0 54 -0 67
0 26 0 66 (0.10)

Note. The numbers within parentheses are the posterior standard deviations of random-effect parameters.

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

487

tance in maximizing utility. We begin our discussion of the model results by classifying respondents into groups defined by posterior estimates of monetary and quantity budgets, M and Q, respectively. We classify respondents into four groups: {high-M, high-Q}, {high-M, low-Q}, {low-M, high-Q}, and {low-M, low-Q}. Medians of M and Q are used to define high­low groups. The median of M is 11.37 (in dollars) and Q is 6.21 (in hundreds of ounces).
Because our model is based on constrained utility maximization, we can use the concept of indirect utility to investigate the relative importance of each constraint. Indirect utility, V p q M Q = U x p q M Q , is defined as the maximum attainable utility given the binding constraints. The change in attainable utility as the constraints are relaxed is defined as the derivative of indirect utility with respect to M and Q:

V=

V=

M

Q

That is, the Lagrangian multipliers and represent the change of maximum attainable utility as a result of the changes in the value of the budget allocation M and capacity Q constraints.
From (1b), we have

1

1

= Uz

x

= xz

= Uw

x

= xw

(11)

Figure 2 displays average posterior estimates of and values for each respondent calculated according to the expression in (11). The average estimated value of is 0.20 and is 0.48, indicating that attainable utility will increase twofold more when capacity

Figure 2 Individual-Level and

3.0

2.5

2.0

1.5

1.0

0.5

0.0

0.0

0.5

1.0

1.5

Table 6

Segment-Level Shadow Values: MultipleConstraint Model

Monetary budget Quantity budget

High

High

0.10 0.16

High

Low

0.12 0.64

Low

High

0.25 0.18

Low

Low

0.31 0.88

is increased by 100.0 ounces than when the budget is increased by $1.00. This information is useful in deciding whether to pursue efforts to increase household capacity through, for example, new packaging configurations as a means of increasing consumer welfare and increased sales. Table 6 shows segment-level shadow values. Low monetary-budget segments have large and low quantity-budget segments have large . These results indicate that smallmonetary-budget people prefer price reductions and small-capacity people prefer capacity improvements, as might be expected. The value of our model is that it provides estimates of the value of relaxing each constraint.
In addition to comparisons across the constraints, our model specification allows for the calculations of monetary equivalent (ME) values, or the willingness to pay, for the attribute levels (Ofek and Srinivasan 2002). The monetary equivalent of an attribute level is the dollar value that leaves the attractiveness of an offer unchanged. Because choices are related to the model parameters and data, including prices, through the Kuhn­Tucker conditions, we can use (6a) to obtain

n= xn + 1

pn +

qn

=

M

pn -j

pj xj

+

Q-

qn
j

qj xj

(12)

Solving (12) for pn, we obtain

pn

=

A

M - j=n pj xj 1 + Axn

A=

xn

n
+

1

-

Q

-

qn
j

qj xj

(13)

To obtain ME, first we define the null-level equiv-
alent price pnd0, and the enhanced-level equivalent price pnd1 for attribute-level d. Let pn be a current price. We obtain n in n, which satisfies (12). If the dth attribute level is 0 (i.e., and = 0 in n), then let pnd0 be pn, and let pnd1 be the equivalent price that is obtained from (13) substituting and = 0 for and = 1. If the dth attribute level is 1 (i.e., and = 1 , then let pnd1 be pn, and let pnd0 be the equivalent price that is obtained from (13) substituting and = 1 for and = 0.
Finally, we define ME as follows:

ME = pnd1 - pnd0

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

488

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

Table 7 Monetary Equivalent of Attribute Levels

Type Container volume

Constraint type

Can 1/2 liter 24 oz

Budget constraint -0 54 -0 25 Multiple constraints -0 46 0 36

-0 13 0 68

Note. Figures are expressed as the median.

Package size

6-pack 12-pack

0 25

0 36

0 79

1 08

where positive values indicate the monetary value respondents are willing to pay for the enhancement provided by the attribute level, and negative values indicate they would prefer the null level of the attribute. A similar expression can be developed for quantity equivalents (QEs).
Table 7 shows the ME of each attribute level. The top row of Table 7 reports ME estimates for a budget-only choice model, and the bottom portion of the table reports estimates for the multiple-constraint model. Because the quantity-constraint model does not include price, we compare the budget-constraint model to the multiple-constraint model. We find large differences in the monetary equivalents of the attribute levels between the two models. The budgetonly model indicates that respondents place less value on larger volumes and package sizes, and they actually prefer the 12-ounce container to the half-liter and 24-ounce size. The multiple-constraint model indicates the opposite--larger container and package sizes are preferred, except for the presence of binding constraints that make their purchase infeasible. Knowing that people prefer smaller containers because they have to, rather than because they want to, offers the chance to increase consumer utility through pursuits aimed at relaxing a person's capacity constraint. This insight is not available from the budget-only model, and the difference in the monetary equivalent estimates reported in Table 7 are economically significant.
Table 8 reports segment-level ME estimates for the multiple-constraint model. Only the high monetary and quantity budget group has negative MEs for half-liter and 24-ounce sizes. The two groups with low-quantity budgets have larger MEs for larger container volume and package size. As we have shown

Table 8

Segment-Level Monetary Equivalent of Attribute Levels: Multiple-Constraint Model

Type Monetary Quantity

Container volume

budget

budget Can 1/2 liter 24 oz

Package size 6-pack 12-pack

High

High -0 72 -0 54 -0 46

0.17

0.29

High

Low -0 90 0 38

1 03

1.36

2.16

Low

High -0 21 0 35

0 48

0.67

0.98

Low

Low -0 13 1 23

1 85

1.79

2.00

Note. Figures are expressed as the median.

Table 9 Expected Baseline Marginal Utility E for Each Profile

Profile Type Container volume Package size Total volume

1

Bottle

1/2 liter

2

Bottle

24 oz

3

Can

12 oz

4

Bottle

12 oz

5

Bottle

1/2 liter

6

Bottle

24 oz

7

Can

12 oz

8

Bottle

12 oz

4-pack 4-pack 6-pack 6-pack 6-pack 6-pack 12-pack 12-pack

64

1.16

96

1.36

72

1.24

72

1.49

96

1.73

144

2.04

144

1.74

144

2.10

in Table 6, respondents with smaller capacities have larger capacity shadow values. These results are consistent with the results of the ME analysis, pointing to large potential gains from relaxing the capacity constraint. Finally, we note that the groups with high monetary budgets express relatively strong preferences for bottles over cans.
A third insight afforded by our model is the relative rate of baseline marginal utility associated with the product offerings. Table 9 displays the expected value of in each of the eight product profiles examined in the study. Recall from (4a) and (5a) that marginal utility is related to product attributes through a loglinear specification where larger values of are associated with larger marginal utility and less satiation. We compute the posterior expectation of by integrating over the respondent-level posterior distributions of part-worth estimates. Estimates for the profiles are found to vary from 1 16 to 2 10. Figure 3 displays indifference curves for profiles 1 and 8, the profiles associated with the extreme values of . The figure indicates

Figure 3

Indifference Curves: Profile 1 1 = 1 17 and Profile 8 8 = 2 10

x8

6

5

4

3

2

1

0

0

1

2

3

4

5

6

x1

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models

Marketing Science 30(3), pp. 481­490, © 2011 INFORMS

489

that good number 8 is more likely to be consumed and is more likely to be associated with a corner solution.
7. Concluding Remarks
In this paper we introduce a framework for developing choice models with multiple constraints. The framework is based on direct utility maximization, where choices are associated with model parameters through Kuhn­Tucker conditions. An outside good is introduced for each constraint in the model that is assumed to be independent of the other constraints. Thus, the outside good for a capacity constraint is assumed to cost nothing, and the outside good for the budget constraint is assumed to have no storage volume. The advantage of this formulation is that, so long as a constraint is binding, the quantity of the outside good can be determined by the observed demand for the inside goods and the constraint limits (e.g., M and Q) that are estimated as parameters.
The model is applied to conjoint data with the goal of understanding attribute levels associated with volumetric demand. The model is shown to lead to improved in-sample and predictive fits. It also facilitates the evaluation of constraint importances through comparison of constraint shadow values through the Lagrangian multipliers ( , ). The Kuhn­Tucker conditions can be used to compute monetary and quantity equivalents (MEs and QEs) that can be used to translate the part-worth coefficients to a meaningful and common metric. These aspects of analysis are not available in direct-search models that do not rely on the Kuhn­Tucker conditions. They are also not available from models that move away from utility theory by, for example, introducing dummy variables and interaction terms to "pick up" aspects of the data, such as the price discounts of large quantity items being ignored because of quantity constraints. Whereas more-descriptive models are capable of fitting the data well, they do so at the expense of inference that employs shadow values and Kuhn­Tucker conditions. Finally, we show how the model can be used to understand the relationship between product attribute levels and the corner solution, which is important in multiple-choice forecasting.
The presence of multiple constraints in consumer choice is, we believe, the rule rather than the exception. Consumers purchasing in nearly any product category must somehow deal with the wide array of choice offerings, including many brands and many sizes. One approach for modeling choices in this environment is to assume the presence of consideration sets (Bronnenberg and Vanhonacker 1996, Gilbride and Allenby 2004) where brand selection is made from a subset of available brands. A more structured approach is to investigate the constraints that are

present that rule out specific offerings as respondents maximize utility. For these constraints to be meaningful, it is necessary to allow for nonhomothetic (i.e., nonlinear) models of utility where constraint relaxation plays a nontrivial role.
All marketplace exchanges involve giving up resources and receiving benefits. Benefits are measured in terms of utility, with utility functions assumed to be quasi-concave and nondecreasing so that marginal utility is strictly positive. What is given up, however, diminishes the well-being of the consumer. Taken broadly, anything that leads to consumers being worse off should be measured through the constraints of an economic model, not through the utility function. Examples include the caloric content of food for people on a diet, the side effects and potential interactions of drug prescriptions, and the downside of drinking too much coffee (see also Hermalin and Isen 2008). Because nearly all exchanges involve both approach and avoidance components, we believe this paper offers useful tools for developing and analyzing richer demand models in marketing.

Acknowledgments The authors thank the editor, area editor, and two anonymous reviewers for their very constructive and detailed comments during the review process.

Appendix. Estimation Algorithm Heterogeneity on individual respondent parameters is introduced hierarchically with the following distributions:
k  MVN ¯ V
We specify the prior distribution on hyperparameters as follows:
¯  Normal 0 100I
V  IW

where I is an identity matrix, IW is the inverted Wishart

distribution, = D + 2 + 4 and = 1.

A Gibbs-type sampler is used to draw from the condi-

tional posteriors and distributions for heterogeneity.

Step 1. Generate k k = 1

K . A Metropolis-

Hastings algorithm with a random-walk chain is used to

generate draws of

k. Let

m k

be the mth draw for

k, and

let skm be the mth draw for sk. The next draw m + 1 for

k is given by

m+1 k

=

m k

+

where is a draw from the candidate generating den-

sity Normal 0 0 20I . The probability of accepting the new

draw,

m+1 k

,

is

given

by

min

exp -1/2

m+1 k

-

¯

V -1

exp -1/2

m k

-

¯

V -1

m+1 k

-

¯

·Pr xk m+1

m k

-

¯

·Pr xk m

1

where Pr xk m is the likelihood that is evaluated by using

m k

.

If

the

new

draw

is

rejected,

let

m+1 k

=

m k

.

490

Step 2. Generate ¯ . ¯  Normal B KV -1 + 100I -1 -1

B = KV -1 + 100I -1 -1 KV -1
k
Step 3. Generate V .

k + 100I -1 0

V  IW + K

+

k- ¯

k

k- ¯

References
Becker, G. S. 1965. A theory of the allocation of time. Econom. J. 75(299) 493­517.
Bell, D. R., C. A. L. Hilber. 2006. An empirical test of the theory of sales: Do household storage constraints affect consumer and store behavior? Quant. Marketing Econom. 4(2) 87­117.
Bhat, C. R. 2005. A multiple discrete-continuous extreme value model: Formulation and application to discretionary time-use decisions. Transportation Res. 39(8) 679­707.
Bhat, C. R. 2008. The multiple discrete-continuous extreme value (MDCEV) model: Role of utility function parameters, identification considerations, and model extensions. Transportation Res. 42(3) 274­303.
Bockstael, N. E., I. E. Strand, W. M. Hanemann. 1987. Time and the recreational demand model. Amer. J. Agricultural Econom. 69(2) 293­302.
Bronnenberg, B. J., W. R. Vanhonacker. 1996. Limited choice sets, local price response, and implied measures of price competition. J. Marketing Res. 33(2) 163­173.
Deaton, A., J. Muellbauer. 1980. Economics and Consumer Behavior. Cambridge University Press, Cambridge, UK.
Dubé, J.-P. 2004. Multiple discreteness and product differentiation: Demand for carbonated soft drinks. Marketing Sci. 23(1) 66­81.

Satomura, Kim, and Allenby: Multiple-Constraint Choice Models Marketing Science 30(3), pp. 481­490, © 2011 INFORMS
Gilbride, T. J., G. M. Allenby. 2004. A choice model with conjunctive, disjunctive, and compensatory screening rules. Marketing Sci. 23(3) 391­406.
Hanemann, W. M. 2006. Consumer demand with several linear constraints: A global analysis. T. Aronsson, R. Axelsson, R. Brännlund, eds. The Theory and Practice of Environmental and Resource Economics: Essays in Honour of Karl-Gustaf Löfgren. Edward Elgar, Cheltenham, UK, 61­84.
Hausman, J. A. 1985. The econometrics of nonlinear budget sets. Econometrica 53(6) 1255­1282.
Hendel, I., A. Nevo. 2006. Sales and consumer inventory. RAND J. Econom. 37(3) 543­561.
Hermalin, B. E., A. M. Isen. 2008. A model of the effect of affect on economic decision making. Quant. Marketing Econom. 6(1) 17­40.
Kim, J., G. M. Allenby, P. E. Rossi. 2002. Modeling consumer demand for variety. Marketing Sci. 21(3) 229­250.
Kim, J., G. M. Allenby, P. E. Rossi. 2007. Product attributes and models of multiple discreteness. J. Econometrics 138(1) 208­230.
Kockelman, K. M., S. Krishnamurthy. 2004. A new approach for travel demand modeling: Linking Roy's Identity to discrete choice. Transportation Res. 38(5) 459­475.
Moffitt, R. 1986. The econometric of piecewise-linear budget constraints: A survey and exposition of the maximum likelihood method. J. Bus. Econom. Statist. 4(3) 317­328.
Ofek, E., V. Srinivasan. 2002. How much does the market value an improvement in a product attribute? Marketing Sci. 21(4) 398­411.
Parizat, S., R. Shachar. 2010. When Pavarotti meets Harry Potter at the Super Bowl. Working paper, Tel Aviv University, Tel Aviv, Israel. http://ssrn.com/abstract=1711183.
von Haefen, R. H., D. J. Phaneuf. 2003. Estimating preferences for outdoor recreation: A comparison of continuous and count data demand system frameworks. J. Environ. Econom. Management 45(3) 612­630.

